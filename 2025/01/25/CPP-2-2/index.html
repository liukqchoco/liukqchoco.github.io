<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-2ï¼‰ | ChocStarğŸ«</title><meta name="author" content="Liu Kai-Qi"><meta name="copyright" content="Liu Kai-Qi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="CPP-2-2 ç»§æ‰¿  1. ç»§æ‰¿æœºåˆ¶ç®€ä»‹ PPT ä¸­æåˆ°ï¼š  ç»§æ‰¿æœºåˆ¶æ˜¯åŸºäºç›®æ ‡ä»£ç çš„å¤ç”¨  ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ ç»§æ‰¿ï¼ˆInheritanceï¼‰æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»æˆ–æ´¾ç”Ÿç±»ï¼‰ä»å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»æˆ–çˆ¶ç±»ï¼‰ä¸­ç»§æ‰¿å±æ€§å’Œæ–¹æ³•ã€‚  åŸºç±»ï¼ˆBase Classï¼‰ï¼šæä¾›åŸºç¡€åŠŸèƒ½å’Œæ¥å£ã€‚ æ´¾ç”Ÿç±»ï¼ˆDerived Classï¼‰ï¼šç»§æ‰¿åŸºç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯ä»¥æ‰©å±•æˆ–ä¿®æ”¹è¿™äº›åŠŸèƒ½ã€‚  ç»§æ‰¿">
<meta property="og:type" content="article">
<meta property="og:title" content="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-2ï¼‰">
<meta property="og:url" content="http://example.com/2025/01/25/CPP-2-2/index.html">
<meta property="og:site_name" content="ChocStarğŸ«">
<meta property="og:description" content="CPP-2-2 ç»§æ‰¿  1. ç»§æ‰¿æœºåˆ¶ç®€ä»‹ PPT ä¸­æåˆ°ï¼š  ç»§æ‰¿æœºåˆ¶æ˜¯åŸºäºç›®æ ‡ä»£ç çš„å¤ç”¨  ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ ç»§æ‰¿ï¼ˆInheritanceï¼‰æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»æˆ–æ´¾ç”Ÿç±»ï¼‰ä»å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»æˆ–çˆ¶ç±»ï¼‰ä¸­ç»§æ‰¿å±æ€§å’Œæ–¹æ³•ã€‚  åŸºç±»ï¼ˆBase Classï¼‰ï¼šæä¾›åŸºç¡€åŠŸèƒ½å’Œæ¥å£ã€‚ æ´¾ç”Ÿç±»ï¼ˆDerived Classï¼‰ï¼šç»§æ‰¿åŸºç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯ä»¥æ‰©å±•æˆ–ä¿®æ”¹è¿™äº›åŠŸèƒ½ã€‚  ç»§æ‰¿">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/C++.jpg">
<meta property="article:published_time" content="2025-01-25T14:10:32.000Z">
<meta property="article:modified_time" content="2025-02-05T09:29:42.232Z">
<meta property="article:author" content="Liu Kai-Qi">
<meta property="article:tag" content="C++é«˜çº§ç¨‹åºè®¾è®¡">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/C++.jpg"><link rel="shortcut icon" href="/img/web_label.png"><link rel="canonical" href="http://example.com/2025/01/25/CPP-2-2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":150,"languages":{"author":"ä½œè€…: Liu Kai-Qi","link":"é“¾æ¥: ","source":"æ¥æº: ChocStarğŸ«","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-2ï¼‰',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-05 17:29:42'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/background.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post type-C++é«˜çº§ç¨‹åºè®¾è®¡" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/C++.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ChocStarğŸ«</span></a><a class="nav-page-title" href="/"><span class="site-name">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-2ï¼‰</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-2ï¼‰</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-01-25T14:10:32.000Z" title="å‘è¡¨äº 2025-01-25 22:10:32">2025-01-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-02-05T09:29:42.232Z" title="æ›´æ–°äº 2025-02-05 17:29:42">2025-02-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C-%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">C++é«˜çº§ç¨‹åºè®¾è®¡</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">15.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>55åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>CPP-2-2</h1>
<h2 id="ç»§æ‰¿">ç»§æ‰¿</h2>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220082818418.png" class="" title="image-20241220082818418">
<p><strong>1. ç»§æ‰¿æœºåˆ¶ç®€ä»‹</strong></p>
<p>PPT ä¸­æåˆ°ï¼š</p>
<blockquote>
<p><strong>ç»§æ‰¿æœºåˆ¶æ˜¯åŸºäºç›®æ ‡ä»£ç çš„å¤ç”¨</strong></p>
</blockquote>
<p><strong>ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ</strong></p>
<p>ç»§æ‰¿ï¼ˆInheritanceï¼‰æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»æˆ–æ´¾ç”Ÿç±»ï¼‰ä»å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»æˆ–çˆ¶ç±»ï¼‰ä¸­ç»§æ‰¿å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li><strong>åŸºç±»ï¼ˆBase Classï¼‰</strong>ï¼šæä¾›åŸºç¡€åŠŸèƒ½å’Œæ¥å£ã€‚</li>
<li><strong>æ´¾ç”Ÿç±»ï¼ˆDerived Classï¼‰</strong>ï¼šç»§æ‰¿åŸºç±»çš„<strong>å±æ€§å’Œæ–¹æ³•</strong>ï¼Œå¹¶å¯ä»¥æ‰©å±•æˆ–ä¿®æ”¹è¿™äº›åŠŸèƒ½ã€‚</li>
</ul>
<p><strong>ç»§æ‰¿çš„ç›®çš„</strong></p>
<ol>
<li>ä»£ç å¤ç”¨ï¼š
<ul>
<li>åŸºç±»ä¸­çš„ä»£ç å¯ä»¥è¢«å­ç±»ç›´æ¥ä½¿ç”¨ï¼Œé¿å…é‡å¤ç¼–å†™ã€‚</li>
<li>æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚</li>
</ul>
</li>
<li>å±‚æ¬¡åŒ–è¡¨ç¤ºäº‹ç‰©ï¼š
<ul>
<li>é€šè¿‡ç»§æ‰¿ï¼Œå¯ä»¥å¯¹äº‹ç‰©è¿›è¡Œåˆ†ç±»ã€‚</li>
<li>ä»åŸºç±»åˆ°æ´¾ç”Ÿç±»é€å±‚å¢åŠ å…·ä½“åŒ–çš„ç»†èŠ‚ã€‚</li>
</ul>
</li>
<li>æ”¯æŒå¤šæ€ï¼ˆPolymorphismï¼‰ï¼š
<ul>
<li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥è¢«è§†ä¸ºåŸºç±»å¯¹è±¡ï¼Œä»è€Œå®ç°åŠ¨æ€ç»‘å®šï¼ˆDynamic Bindingï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p><strong>2. PPT ä¸­çš„ç»§æ‰¿åˆ†ç±»</strong></p>
<p><strong>æ´¾ç”Ÿç±»æ˜¯åŸºç±»çš„å…·ä½“åŒ–</strong></p>
<ul>
<li>
<p>åŸºç±»é€šå¸¸è¡¨ç¤ºä¸€ä¸ªæŠ½è±¡çš„äº‹ç‰©æˆ–æ¦‚å¿µï¼Œè€Œæ´¾ç”Ÿç±»æ˜¯åŸºç±»çš„å…·ä½“åŒ–ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<ul>
<li>
<p>åŸºç±»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shape</span><br></pre></td></tr></table></figure>
<p>ï¼ˆå½¢çŠ¶ï¼‰</p>
<ul>
<li>å±æ€§ï¼šé¢œè‰²ã€è¾¹æ•°ç­‰ã€‚</li>
<li>æ–¹æ³•ï¼šè®¡ç®—é¢ç§¯ã€è®¡ç®—å‘¨é•¿ã€‚</li>
</ul>
</li>
<li>
<p>æ´¾ç”Ÿç±»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Circle</span><br></pre></td></tr></table></figure>
<p>ï¼ˆåœ†å½¢ï¼‰ã€</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rectangle</span><br></pre></td></tr></table></figure>
<p>ï¼ˆçŸ©å½¢ï¼‰</p>
<ul>
<li><code>Circle</code> æ·»åŠ äº†å±æ€§ï¼šåŠå¾„ã€‚</li>
<li><code>Rectangle</code> æ·»åŠ äº†å±æ€§ï¼šé•¿å’Œå®½ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>æŠŠäº‹ç‰©ä»¥å±‚æ¬¡ç»“æ„è¡¨ç¤ºå‡ºæ¥</strong></p>
<ul>
<li>ç»§æ‰¿å…è®¸æˆ‘ä»¬ç”¨å±‚æ¬¡ç»“æ„è¡¨è¾¾äº‹ç‰©ï¼Œå½¢æˆâ€œç±»æ—â€ã€‚</li>
<li>å¥½å¤„ï¼š
<ul>
<li>æ›´ç¬¦åˆäººç±»çš„é€»è¾‘æ€ç»´æ–¹å¼ã€‚</li>
<li>å¯ä»¥æ›´å¥½åœ°æè¿°å¤æ‚é—®é¢˜ï¼Œé€å±‚åˆ†è§£é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç ï¼šäº‹ç‰©åˆ†ç±»</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºç±»ï¼šShapeï¼ˆå½¢çŠ¶ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    string color; <span class="comment">// é¢œè‰²</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Shape</span>(<span class="type">const</span> string&amp; c) : <span class="built_in">color</span>(c) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">display</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="comment">// è™šå‡½æ•°ï¼Œæ”¯æŒå¤šæ€</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Shape of color: &quot;</span> &lt;&lt; color &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ´¾ç”Ÿç±»ï¼šCircleï¼ˆåœ†å½¢ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> : <span class="keyword">public</span> Shape &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> radius; <span class="comment">// åŠå¾„</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">const</span> string&amp; c, <span class="type">double</span> r) : <span class="built_in">Shape</span>(c), <span class="built_in">radius</span>(r) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123; <span class="comment">// é‡å†™åŸºç±»æ–¹æ³•</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Circle of color: &quot;</span> &lt;&lt; color &lt;&lt; <span class="string">&quot;, radius: &quot;</span> &lt;&lt; radius &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ´¾ç”Ÿç±»ï¼šRectangleï¼ˆçŸ©å½¢ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> : <span class="keyword">public</span> Shape &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> length, width; <span class="comment">// é•¿å’Œå®½</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Rectangle</span>(<span class="type">const</span> string&amp; c, <span class="type">double</span> l, <span class="type">double</span> w) : <span class="built_in">Shape</span>(c), <span class="built_in">length</span>(l), <span class="built_in">width</span>(w) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Rectangle of color: &quot;</span> &lt;&lt; color &lt;&lt; <span class="string">&quot;, length: &quot;</span> &lt;&lt; length</span><br><span class="line">             &lt;&lt; <span class="string">&quot;, width: &quot;</span> &lt;&lt; width &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Shape* shape1 = <span class="keyword">new</span> <span class="built_in">Circle</span>(<span class="string">&quot;Red&quot;</span>, <span class="number">5.0</span>);</span><br><span class="line">    Shape* shape2 = <span class="keyword">new</span> <span class="built_in">Rectangle</span>(<span class="string">&quot;Blue&quot;</span>, <span class="number">10.0</span>, <span class="number">5.0</span>);</span><br><span class="line"></span><br><span class="line">    shape1-&gt;<span class="built_in">display</span>(); <span class="comment">// è¾“å‡ºï¼šCircle of color: Red, radius: 5</span></span><br><span class="line">    shape2-&gt;<span class="built_in">display</span>(); <span class="comment">// è¾“å‡ºï¼šRectangle of color: Blue, length: 10, width: 5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span> shape1;</span><br><span class="line">    <span class="keyword">delete</span> shape2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3. å¢é‡å¼€å‘</strong></p>
<p>PPT æåˆ°ï¼š</p>
<blockquote>
<p><strong>å¢é‡å¼€å‘</strong></p>
</blockquote>
<p><strong>å¢é‡å¼€å‘çš„å«ä¹‰</strong></p>
<ul>
<li>å¢é‡å¼€å‘æŒ‡çš„æ˜¯åœ¨å·²æœ‰åŸºç±»çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æ´¾ç”Ÿç±»é€æ­¥æ‰©å±•åŠŸèƒ½ã€‚</li>
<li>æ´¾ç”Ÿç±»å¯ä»¥ï¼š
<ol>
<li>å¢åŠ æ–°æˆå‘˜ï¼š
<ul>
<li>æ·»åŠ æ–°çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½¿å­ç±»æ›´åŠ å…·ä½“åŒ–ã€‚</li>
</ul>
</li>
<li>é‡å†™ï¼ˆOverrideï¼‰åŸºç±»æ–¹æ³•ï¼š
<ul>
<li>å­ç±»å¯ä»¥æä¾›è‡ªå·±çš„å®ç°ï¼Œè¦†ç›–åŸºç±»çš„æ–¹æ³•ã€‚</li>
</ul>
</li>
</ol>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220083351797.png" class="" title="image-20241220083351797">
<p><strong>1. å•ç»§æ‰¿çš„å®šä¹‰</strong></p>
<p>å•ç»§æ‰¿æ˜¯ C++ ä¸­çš„ä¸€ç§ç»§æ‰¿æœºåˆ¶ï¼ŒæŒ‡çš„æ˜¯<strong>ä¸€ä¸ªæ´¾ç”Ÿç±»åªèƒ½ç»§æ‰¿è‡ªä¸€ä¸ªåŸºç±»</strong>ã€‚é€šè¿‡å•ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿åŸºç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°ä»£ç çš„å¤ç”¨å’ŒåŠŸèƒ½çš„æ‰©å±•ã€‚</p>
<p><strong>2. PPT ä¸­çš„ç»§æ‰¿è¯­æ³•</strong></p>
<p><strong>æ­£ç¡®å£°æ˜æ´¾ç”Ÿç±»</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Undergraduate_Student</span> : <span class="keyword">public</span> Student;</span><br></pre></td></tr></table></figure>
<p><strong>è¯­æ³•æ ¼å¼è§£æ</strong></p>
<ul>
<li><code>class æ´¾ç”Ÿç±»å : ç»§æ‰¿æ–¹å¼ åŸºç±»å</code></li>
<li>ç»§æ‰¿æ–¹å¼ï¼š
<ul>
<li><code>public</code>ï¼šåŸºç±»çš„ <code>public</code> æˆå‘˜å’Œ <code>protected</code> æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­åˆ†åˆ«ä¿æŒä¸º <code>public</code> å’Œ <code>protected</code>ã€‚</li>
<li><code>protected</code>ï¼šåŸºç±»çš„ <code>public</code> æˆå‘˜å’Œ <code>protected</code> æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º <code>protected</code>ã€‚</li>
<li><code>private</code>ï¼šåŸºç±»çš„ <code>public</code> æˆå‘˜å’Œ <code>protected</code> æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º <code>private</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. PPT ä¸­çš„ä»£ç è§£æ</strong></p>
<p><strong>åŸºç±» <code>Student</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> id; <span class="comment">// protected æˆå‘˜</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">char</span> nickname[<span class="number">16</span>]; <span class="comment">// public æˆå‘˜</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_ID</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; id = x; &#125; <span class="comment">// public æˆå‘˜</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetNickName</span><span class="params">(<span class="type">char</span> *s)</span> </span>&#123; <span class="built_in">strcpy</span>(nickname, s); &#125; <span class="comment">// public æˆå‘˜</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">showInfo</span><span class="params">()</span> </span>&#123; <span class="comment">// è™šå‡½æ•°ï¼Œæ”¯æŒå¤šæ€</span></span><br><span class="line">        cout &lt;&lt; nickname &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; id &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>protected</code> è®¿é—®ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li>
<pre><code>id
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æˆå‘˜å˜é‡æ˜¯ </span><br><span class="line"></span><br></pre></td></tr></table></figure>
protected
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">     çš„ï¼Œå› æ­¤ï¼š</span><br><span class="line"></span><br><span class="line">    - åŸºç±»å¯ä»¥ç›´æ¥è®¿é—®ã€‚</span><br><span class="line">    - æ´¾ç”Ÿç±»ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®ã€‚</span><br><span class="line">    - ç±»å¤–éƒ¨ä¸èƒ½ç›´æ¥è®¿é—®ã€‚</span><br><span class="line"></span><br><span class="line">- `public` è®¿é—®ä¿®é¥°ç¬¦ï¼š</span><br><span class="line"></span><br><span class="line">  - ```</span><br><span class="line">    nickname</span><br></pre></td></tr></table></figure>

ã€

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_ID</span><br></pre></td></tr></table></figure>

 å’Œ 

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SetNickName</span><br></pre></td></tr></table></figure>

 æ˜¯ 

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public</span><br></pre></td></tr></table></figure>

 çš„ï¼Œå› æ­¤ï¼š

- åŸºç±»ã€æ´¾ç”Ÿç±»å’Œç±»å¤–éƒ¨éƒ½å¯ä»¥ç›´æ¥è®¿é—®ã€‚

</code></pre>
</li>
</ul>
</li>
<li>
<p>è™šå‡½æ•° <code>showInfo()</code>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>virtual</code> å…³é”®å­—ä¿®é¥°çš„å‡½æ•°ã€‚</li>
<li>æ”¯æŒåœ¨æ´¾ç”Ÿç±»ä¸­è¿›è¡Œé‡å†™ï¼Œå®ç°<strong>è¿è¡Œæ—¶å¤šæ€</strong>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ´¾ç”Ÿç±» <code>Undergraduate_Student</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Undergraduate_Student</span> : <span class="keyword">public</span> Student &#123;</span><br><span class="line">    <span class="type">int</span> dept_no; <span class="comment">// ä¸“ä¸šç¼–å·</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setDeptNo</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; dept_no = x; &#125; <span class="comment">// è®¾ç½®ä¸“ä¸šç¼–å·</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_ID</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; ... &#125; <span class="comment">// é‡å†™ set_ID æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showInfo</span><span class="params">()</span> </span>&#123; <span class="comment">// é‡å†™ showInfo æ–¹æ³•</span></span><br><span class="line">        cout &lt;&lt; dept_no &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; nickname &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Student::nickname; <span class="comment">// å°†åŸºç±»çš„ nickname è®¾ç½®ä¸º private</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetNickName</span><span class="params">()</span></span>; <span class="comment">// ç¦ç”¨åŸºç±»æ–¹æ³• SetNickName</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>é‡å†™æ–¹æ³• <code>set_ID</code> å’Œ <code>showInfo</code></strong>ï¼š
<ul>
<li><code>set_ID</code> å’Œ <code>showInfo</code> åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™äº†åŸºç±»çš„æ–¹æ³•ã€‚</li>
<li>æ³¨æ„ï¼š<strong>åªæœ‰è™šå‡½æ•°ï¼ˆ<code>virtual</code> ä¿®é¥°ï¼‰æ‰èƒ½åœ¨è¿è¡Œæ—¶å®ç°å¤šæ€</strong>ï¼Œ<strong>æ™®é€šå‡½æ•°é‡å†™åªä¼šéšè—åŸºç±»çš„å®ç°</strong>ã€‚</li>
</ul>
</li>
<li><strong>è®¿é—®ä¿®é¥°ç¬¦ <code>private</code></strong>ï¼š
<ul>
<li>å°†åŸºç±»çš„ <code>nickname</code> æˆå‘˜å˜é‡è®¾ç½®ä¸º <code>private</code>ï¼Œæ´¾ç”Ÿç±»å’Œå¤–éƒ¨æ— æ³•å†è®¿é—®ã€‚</li>
<li>å°†åŸºç±»çš„ <code>SetNickName</code> æ–¹æ³•è®¾ç½®ä¸º <code>private</code>ï¼Œæ— æ³•ç›´æ¥è°ƒç”¨ã€‚</li>
</ul>
</li>
</ul>
<p><strong>4. å•ç»§æ‰¿çš„ç»§æ‰¿æ–¹å¼</strong></p>
<p><strong>ç»§æ‰¿æ–¹å¼å¯¹æˆå‘˜çš„è®¿é—®æ§åˆ¶å½±å“</strong></p>
<table>
<thead>
<tr>
<th>åŸºç±»æˆå‘˜ç±»å‹</th>
<th><code>public</code>ç»§æ‰¿</th>
<th><code>protected</code>ç»§æ‰¿</th>
<th><code>private</code>ç»§æ‰¿</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code> æˆå‘˜</td>
<td><code>public</code> æˆå‘˜</td>
<td><code>protected</code> æˆå‘˜</td>
<td><code>private</code> æˆå‘˜</td>
</tr>
<tr>
<td><code>protected</code> æˆå‘˜</td>
<td><code>protected</code> æˆå‘˜</td>
<td><code>protected</code> æˆå‘˜</td>
<td><code>private</code> æˆå‘˜</td>
</tr>
<tr>
<td><code>private</code> æˆå‘˜</td>
<td>ä¸å¯è®¿é—®ï¼ˆæ´¾ç”Ÿç±»ä¸å¯ç»§æ‰¿ï¼‰</td>
<td>ä¸å¯è®¿é—®ï¼ˆæ´¾ç”Ÿç±»ä¸å¯ç»§æ‰¿ï¼‰</td>
<td>ä¸å¯è®¿é—®ï¼ˆæ´¾ç”Ÿç±»ä¸å¯ç»§æ‰¿ï¼‰</td>
</tr>
</tbody>
</table>
<p><strong>PPT ä¸­çš„ç»§æ‰¿æ–¹å¼ <code>public</code></strong></p>
<ul>
<li>åŸºç±»çš„ <code>public</code> æˆå‘˜ï¼ˆå¦‚ <code>nickname</code>ï¼‰åœ¨æ´¾ç”Ÿç±»ä¸­ä»ä¸º <code>public</code>ã€‚</li>
<li>åŸºç±»çš„ <code>protected</code> æˆå‘˜ï¼ˆå¦‚ <code>id</code>ï¼‰åœ¨æ´¾ç”Ÿç±»ä¸­ä»ä¸º <code>protected</code>ã€‚</li>
<li>åŸºç±»çš„ <code>private</code> æˆå‘˜ä¸èƒ½è¢«æ´¾ç”Ÿç±»ç›´æ¥è®¿é—®ã€‚</li>
</ul>
<p><strong>5. PPT ä¸­çš„è®¿é—®æ§åˆ¶è¯´æ˜</strong></p>
<p><strong>å¯¹åŸºç±»æˆå‘˜çš„æ§åˆ¶</strong></p>
<ul>
<li>
<p>åœ¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Undergraduate_Student</span><br></pre></td></tr></table></figure>
<p>ç±»ä¸­ï¼š</p>
<ul>
<li>åŸºç±»çš„ <code>nickname</code> è¢«è®¾ç½®ä¸º <code>private</code>ï¼Œå› æ­¤æ— æ³•åœ¨ç±»å¤–è®¿é—®ã€‚</li>
<li>åŸºç±»çš„æ–¹æ³• <code>SetNickName</code> è¢«è®¾ç½®ä¸º <code>private</code>ï¼Œå› æ­¤æ— æ³•è¢«è°ƒç”¨ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä¿æŠ¤æ´¾ç”Ÿç±»çš„å°è£…æ€§</strong></p>
<ul>
<li>åœ¨ç»§æ‰¿ä¸­ï¼Œæ´¾ç”Ÿç±»å¯ä»¥é€šè¿‡ <code>private</code> è®¿é—®æ§åˆ¶å¯¹åŸºç±»æˆå‘˜è¿›è¡Œè¿›ä¸€æ­¥çš„å°è£…ï¼Œé¿å…å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚</li>
</ul>
<p><strong>6. æ€»ç»“</strong></p>
<ol>
<li><strong>å•ç»§æ‰¿çš„ç‰¹æ€§</strong>ï¼š
<ul>
<li>æ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿åŸºç±»çš„ <code>public</code> å’Œ <code>protected</code> æˆå‘˜ã€‚</li>
<li>ç»§æ‰¿æ–¹å¼ï¼ˆ<code>public</code>ã€<code>protected</code>ã€<code>private</code>ï¼‰ä¼šå½±å“æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®çº§åˆ«ã€‚</li>
<li><strong>åŸºç±»çš„ <code>private</code> æˆå‘˜ä¸èƒ½è¢«ç›´æ¥ç»§æ‰¿æˆ–è®¿é—®ã€‚</strong></li>
</ul>
</li>
<li><strong>é‡å†™å’Œè®¿é—®æ§åˆ¶</strong>ï¼š
<ul>
<li>æ´¾ç”Ÿç±»å¯ä»¥é‡å†™åŸºç±»çš„æ–¹æ³•ï¼ˆå°¤å…¶æ˜¯è™šå‡½æ•°ï¼‰ï¼Œå®ç°å¤šæ€ã€‚</li>
<li>æ´¾ç”Ÿç±»å¯ä»¥é€šè¿‡ <code>private</code> ä¿®é¥°ç¬¦å¯¹åŸºç±»çš„æˆå‘˜è¿›è¡Œé‡æ–°å°è£…ï¼Œé™åˆ¶å¤–éƒ¨è®¿é—®ã€‚</li>
</ul>
</li>
<li><strong>è™šå‡½æ•°çš„ä½œç”¨</strong>ï¼š
<ul>
<li>åŸºç±»ä½¿ç”¨è™šå‡½æ•°ï¼ˆ<code>virtual</code>ï¼‰å®šä¹‰æ¥å£ï¼Œæ´¾ç”Ÿç±»å®ç°å…·ä½“é€»è¾‘ã€‚</li>
<li>åœ¨è¿è¡Œæ—¶é€šè¿‡åŠ¨æ€ç»‘å®šè°ƒç”¨æ´¾ç”Ÿç±»çš„æ–¹æ³•ã€‚</li>
</ul>
</li>
</ol>
<h2 id="å‹å…ƒå’Œprotected">å‹å…ƒå’Œprotected</h2>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220083811463.png" class="" title="image-20241220083811463">
<p><strong>1. <code>protected</code> è®¿é—®æƒé™æ¦‚è¿°</strong></p>
<p>åœ¨ C++ ä¸­ï¼Œ<code>protected</code> æ˜¯ä¸€ç§è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦ï¼Œå…¶ç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>åŸºç±»å†…éƒ¨</strong>ï¼š<code>protected</code> æˆå‘˜å¯ä»¥åœ¨åŸºç±»å†…éƒ¨è®¿é—®ã€‚</li>
<li><strong>æ´¾ç”Ÿç±»</strong>ï¼š<code>protected</code> æˆå‘˜å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­ç›´æ¥è®¿é—®ã€‚</li>
<li><strong>ç±»å¤–éƒ¨</strong>ï¼š<code>protected</code> æˆå‘˜ä¸èƒ½è¢«ç±»å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚</li>
</ul>
<p><strong>2. PPT ä¸­çš„ä»£ç è§£æ</strong></p>
<p><strong>åŸºç±» <code>Base</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> prot_mem; <span class="comment">// protected æˆå‘˜</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>prot_mem</code> æ˜¯ä¸€ä¸ª <code>protected</code> æˆå‘˜å˜é‡ã€‚</li>
<li>ä»…åŸºç±» <code>Base</code> å’Œæ´¾ç”Ÿç±»å¯ä»¥ç›´æ¥è®¿é—® <code>prot_mem</code>ã€‚</li>
</ul>
<p><strong>æ´¾ç”Ÿç±» <code>Sneaky</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Sneaky</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">clobber</span><span class="params">(Sneaky &amp;s)</span></span>; <span class="comment">// å£°æ˜ clobber(Sneaky&amp;) ä¸ºå‹å…ƒå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">clobber</span><span class="params">(Base &amp;b)</span></span>;   <span class="comment">// å£°æ˜ clobber(Base&amp;) ä¸ºå‹å…ƒå‡½æ•°</span></span><br><span class="line">    <span class="type">int</span> j; <span class="comment">// é»˜è®¤æ˜¯ private æˆå‘˜</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>å‹å…ƒå‡½æ•° <code>clobber(Sneaky &amp;s)</code>ï¼š
<ul>
<li>å¯ä»¥è®¿é—® <code>Sneaky</code> å¯¹è±¡çš„æ‰€æœ‰ <code>private</code> å’Œ <code>protected</code> æˆå‘˜ã€‚</li>
<li>ä¹Ÿå¯ä»¥è®¿é—®ä» <code>Base</code> ç»§æ‰¿çš„ <code>protected</code> æˆå‘˜ã€‚</li>
</ul>
</li>
<li>å‹å…ƒå‡½æ•° <code>clobber(Base &amp;b)</code>ï¼š
<ul>
<li>ä»…èƒ½è®¿é—® <code>Base</code> ä¸­ç›´æ¥å£°æ˜ä¸º <code>protected</code> çš„æˆå‘˜ï¼ˆå¦‚æœæœ‰è®¿é—®æƒé™ï¼‰ã€‚</li>
<li><strong>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ<code>Base::prot_mem</code> ä¸èƒ½é€šè¿‡ <code>clobber(Base &amp;b)</code> è®¿é—®ã€‚</strong></li>
</ul>
</li>
</ul>
<p><strong>å‹å…ƒå‡½æ•°å®ç°</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clobber</span><span class="params">(Sneaky &amp;s)</span> </span>&#123;</span><br><span class="line">    s.j = <span class="number">0</span>;           <span class="comment">// æ­£ç¡®ï¼šèƒ½è®¿é—® Sneaky çš„ private æˆå‘˜</span></span><br><span class="line">    s.prot_mem = <span class="number">0</span>;    <span class="comment">// æ­£ç¡®ï¼šèƒ½è®¿é—® Sneaky ç»§æ‰¿è‡ª Base çš„ protected æˆå‘˜</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åŸå› ï¼š</p>
<ul>
<li>
<pre><code>clobber(Sneaky &amp;s)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ˜¯ </span><br><span class="line"></span><br></pre></td></tr></table></figure>
Sneaky
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">     çš„å‹å…ƒå‡½æ•°ï¼Œå› æ­¤å¯ä»¥è®¿é—®ï¼š</span><br><span class="line"></span><br><span class="line">    1. `Sneaky` çš„ç§æœ‰æˆå‘˜ `j`ã€‚</span><br><span class="line">    2. `Sneaky` ä» `Base` ç»§æ‰¿çš„ `protected` æˆå‘˜ `prot_mem`ã€‚</span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">void clobber(Base &amp;b) &#123;</span><br><span class="line">    b.prot_mem = 0; // é”™è¯¯ï¼šclobber(Base&amp;) ä¸æ˜¯ Base çš„å‹å…ƒå‡½æ•°</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p>åŸå› ï¼š</p>
<ul>
<li><strong><code>clobber(Base &amp;b)</code> æ˜¯ <code>Sneaky</code> çš„å‹å…ƒå‡½æ•°ï¼Œä½†ä¸æ˜¯ <code>Base</code> çš„å‹å…ƒå‡½æ•°ã€‚</strong></li>
<li>å› æ­¤ï¼Œ<code>clobber(Base &amp;b)</code> æ— æ³•è®¿é—® <code>Base</code> ä¸­çš„ <code>protected</code> æˆå‘˜ <code>prot_mem</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. å‹å…ƒä¸è®¿é—®æƒé™</strong></p>
<p><strong>å‹å…ƒå‡½æ•°çš„ç‰¹æ€§</strong></p>
<ul>
<li>å‹å…ƒå‡½æ•°è¢«æŸä¸ªç±»å£°æ˜ä¸ºå‹å…ƒåï¼Œå¯ä»¥è®¿é—®è¯¥ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ <code>private</code> å’Œ <code>protected</code>ã€‚</li>
<li>å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ä¸”éä¼ é€’çš„ï¼š
<ul>
<li>å¦‚æœ <code>A</code> æ˜¯ <code>B</code> çš„å‹å…ƒï¼Œ<code>B</code> å¹¶ä¸ä¼šè‡ªåŠ¨æˆä¸º <code>A</code> çš„å‹å…ƒã€‚</li>
</ul>
</li>
</ul>
<p><strong>å‹å…ƒå¯¹ç»§æ‰¿æˆå‘˜çš„è®¿é—®è§„åˆ™</strong></p>
<ul>
<li>å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®å£°æ˜å®ƒçš„ç±»çš„æ‰€æœ‰æˆå‘˜ã€‚</li>
<li>å¦‚æœä¸€ä¸ªæ´¾ç”Ÿç±»å£°æ˜äº†æŸä¸ªå‡½æ•°ä¸ºå‹å…ƒå‡½æ•°ï¼Œè¯¥å‹å…ƒå‡½æ•°å¯ä»¥ï¼š
<ul>
<li>è®¿é—®æ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ã€‚</li>
<li>è®¿é—®æ´¾ç”Ÿç±»ä»åŸºç±»ç»§æ‰¿çš„ <code>protected</code> æˆå‘˜ã€‚</li>
</ul>
</li>
<li>å‹å…ƒå‡½æ•°<strong>ä¸èƒ½è®¿é—®åŸºç±»ä¸­ç›´æ¥å£°æ˜çš„ <code>protected</code> æˆå‘˜</strong>ï¼Œé™¤éè¯¥åŸºç±»ä¹Ÿå°†å…¶å£°æ˜ä¸ºå‹å…ƒã€‚</li>
</ul>
<p><strong>4. æ€»ç»“</strong></p>
<ol>
<li><strong><code>protected</code> çš„è®¿é—®è§„åˆ™</strong>ï¼š
<ul>
<li><code>protected</code> æˆå‘˜å¯ä»¥è¢«åŸºç±»å’Œæ´¾ç”Ÿç±»ç›´æ¥è®¿é—®ï¼Œä½†ä¸èƒ½è¢«ç±»å¤–éƒ¨è®¿é—®ã€‚</li>
<li>æ´¾ç”Ÿç±»ä¸­çš„ <code>protected</code> æˆå‘˜ä»ç„¶å¯ä»¥è¢«æ´¾ç”Ÿç±»çš„å‹å…ƒå‡½æ•°è®¿é—®ã€‚</li>
</ul>
</li>
<li><strong>å‹å…ƒå‡½æ•°çš„æƒé™</strong>ï¼š
<ul>
<li>å¯ä»¥è®¿é—®å‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆåŒ…æ‹¬ <code>private</code> å’Œ <code>protected</code>ï¼‰ã€‚</li>
<li>ä¸èƒ½è®¿é—®å‹å…ƒç±»ä»¥å¤–çš„æˆå‘˜ï¼ˆå³ä½¿æ˜¯ <code>protected</code> æˆå‘˜ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>é”™è¯¯ç¤ºä¾‹åˆ†æ</strong>ï¼š
<ul>
<li><code>clobber(Base &amp;b)</code> è¯•å›¾è®¿é—® <code>Base</code> çš„ <code>protected</code> æˆå‘˜ï¼Œä½†<strong>å®ƒä¸æ˜¯ <code>Base</code> çš„å‹å…ƒå‡½æ•°</strong>ï¼Œå› æ­¤ä¸å…è®¸ã€‚</li>
</ul>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220084441680.png" class="" title="image-20241220084441680">
<p><strong>1. æ´¾ç”Ÿç±»å¯¹è±¡çš„åˆå§‹åŒ–</strong></p>
<p><strong>æè¿°</strong></p>
<ul>
<li>å½“åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œ<strong>å¯¹è±¡çš„åˆå§‹åŒ–è¿‡ç¨‹</strong>ç”± <strong>åŸºç±»</strong> å’Œ <strong>æ´¾ç”Ÿç±»</strong> å…±åŒå®Œæˆã€‚</li>
<li><strong>åŸºç±»çš„æ„é€ å‡½æ•°</strong>ä¼šé¦–å…ˆæ‰§è¡Œï¼Œç„¶åæ˜¯<strong>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</strong>ã€‚</li>
</ul>
<p><strong>åŸå› </strong></p>
<ul>
<li>åŸºç±»çš„æˆå‘˜æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°è¿è¡Œä¹‹å‰ï¼Œå¿…é¡»å…ˆåˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ã€‚</li>
</ul>
<p><strong>2. æ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåº</strong></p>
<p><strong>é¡ºåº</strong></p>
<ul>
<li><strong>åŸºç±»çš„æ„é€ å‡½æ•°</strong>ï¼šå…ˆæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–åŸºç±»çš„æˆå‘˜ã€‚</li>
<li><strong>æ´¾ç”Ÿç±»å¯¹è±¡æˆå‘˜ç±»çš„æ„é€ å‡½æ•°</strong>ï¼šå¦‚æœæ´¾ç”Ÿç±»ä¸­åŒ…å«å¯¹è±¡æˆå‘˜ï¼ˆå³ç±»ç±»å‹æˆå‘˜ï¼‰ï¼Œä¼šä¾æ¬¡è°ƒç”¨è¿™äº›æˆå‘˜çš„æ„é€ å‡½æ•°ã€‚</li>
<li><strong>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</strong>ï¼šæœ€åæ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„ç‰¹æœ‰æˆå‘˜ã€‚</li>
</ul>
<p><strong>ä¾‹å­</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>() &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base Constructor&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Base</span>() &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base Destructor&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Member</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Member</span>() &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Member Constructor&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Member</span>() &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Member Destructor&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line">    Member m; <span class="comment">// æ´¾ç”Ÿç±»çš„æˆå‘˜æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived</span>() &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Derived Constructor&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Derived</span>() &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Derived Destructor&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Derived d;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡º</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Base Constructor</span><br><span class="line">Member Constructor</span><br><span class="line">Derived Constructor</span><br><span class="line">Derived Destructor</span><br><span class="line">Member Destructor</span><br><span class="line">Base Destructor</span><br></pre></td></tr></table></figure>
<p><strong>3. ææ„å‡½æ•°çš„æ‰§è¡Œé¡ºåº</strong></p>
<p><strong>é¡ºåº</strong></p>
<p>ææ„å‡½æ•°çš„æ‰§è¡Œé¡ºåºä¸æ„é€ å‡½æ•°ç›¸åï¼š</p>
<ol>
<li><strong>æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°</strong>ï¼šå…ˆé‡Šæ”¾æ´¾ç”Ÿç±»çš„èµ„æºã€‚</li>
<li><strong>æ´¾ç”Ÿç±»å¯¹è±¡æˆå‘˜ç±»çš„ææ„å‡½æ•°</strong>ï¼šæ¥ç€é‡Šæ”¾æ´¾ç”Ÿç±»ä¸­å¯¹è±¡æˆå‘˜çš„èµ„æºã€‚</li>
<li><strong>åŸºç±»çš„ææ„å‡½æ•°</strong>ï¼šæœ€åè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œé‡Šæ”¾åŸºç±»çš„èµ„æºã€‚</li>
</ol>
<p><strong>åŸå› </strong></p>
<ul>
<li>é‡Šæ”¾èµ„æºçš„é¡ºåºå¿…é¡»ä¸æ„é€ é¡ºåºç›¸åï¼Œä»¥<strong>ç¡®ä¿æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨çš„åŸºç±»èµ„æºå…ˆè¢«æ­£ç¡®é‡Šæ”¾</strong>ã€‚</li>
</ul>
<p><strong>4. æ€»ç»“</strong></p>
<p><strong>æ„é€ å‡½æ•°é¡ºåº</strong></p>
<ul>
<li><strong>åŸºç±» -&gt; æ´¾ç”Ÿç±»å¯¹è±¡æˆå‘˜ -&gt; æ´¾ç”Ÿç±»</strong>ã€‚</li>
</ul>
<p><strong>ææ„å‡½æ•°é¡ºåº</strong></p>
<ul>
<li><strong>æ´¾ç”Ÿç±» -&gt; æ´¾ç”Ÿç±»å¯¹è±¡æˆå‘˜ -&gt; åŸºç±»</strong>ã€‚</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220084951693.png" class="" title="image-20241220084951693">
<p><strong>1. åŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨</strong></p>
<p>PPT ä¸­çš„é‡ç‚¹æ˜¯è§£é‡Šåœ¨æ´¾ç”Ÿç±»ä¸­å¦‚ä½•è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼š</p>
<ul>
<li><strong>ç¼ºçœæƒ…å†µä¸‹</strong>ï¼Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„<strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼ˆå³æ— å‚æ„é€ å‡½æ•°ï¼‰ã€‚</li>
<li>å¦‚æœåŸºç±»ä¸­æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæˆ–è€…éœ€è¦è°ƒç”¨éé»˜è®¤æ„é€ å‡½æ•°ï¼‰ï¼Œæ´¾ç”Ÿç±»æ„é€ å‡½æ•°éœ€è¦åœ¨<strong>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</strong>ä¸­æ˜ç¡®æŒ‡å®šè¦è°ƒç”¨çš„åŸºç±»æ„é€ å‡½æ•°ã€‚</li>
</ul>
<p><strong>2. ç¤ºä¾‹ä»£ç è§£æ</strong></p>
<p><strong>åŸºç±» <code>A</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>() &#123; x = <span class="number">0</span>; &#125;          <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">A</span>(<span class="type">int</span> i) &#123; x = i; &#125;     <span class="comment">// å¸¦å‚æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>A()</code></strong> æ˜¯æ— å‚æ„é€ å‡½æ•°ï¼Œé»˜è®¤å°† <code>x</code> åˆå§‹åŒ–ä¸º <code>0</code>ã€‚</li>
<li><strong><code>A(int i)</code></strong> æ˜¯å¸¦å‚æ„é€ å‡½æ•°ï¼Œå°† <code>x</code> åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•° <code>i</code>ã€‚</li>
</ul>
<p><strong>æ´¾ç”Ÿç±» <code>B</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">B</span>() &#123; y = <span class="number">0</span>; &#125;                     <span class="comment">// è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•° A()</span></span><br><span class="line">    <span class="built_in">B</span>(<span class="type">int</span> i) &#123; y = i; &#125;                <span class="comment">// è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•° A()</span></span><br><span class="line">    <span class="built_in">B</span>(<span class="type">int</span> i, <span class="type">int</span> j) : <span class="built_in">A</span>(i) &#123; y = j; &#125;  <span class="comment">// è°ƒç”¨åŸºç±»çš„ A(int) æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>B()</code>ï¼šæ´¾ç”Ÿç±»çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚
<ul>
<li>éšå¼è°ƒç”¨åŸºç±» <code>A</code> çš„é»˜è®¤æ„é€ å‡½æ•° <code>A()</code>ã€‚</li>
<li>å°† <code>y</code> åˆå§‹åŒ–ä¸º <code>0</code>ã€‚</li>
</ul>
</li>
<li><code>B(int i)</code>ï¼šæ´¾ç”Ÿç±»çš„å¸¦å‚æ„é€ å‡½æ•°ã€‚
<ul>
<li>åŒæ ·éšå¼è°ƒç”¨åŸºç±» <code>A</code> çš„é»˜è®¤æ„é€ å‡½æ•° <code>A()</code>ã€‚</li>
<li>å°† <code>y</code> åˆå§‹åŒ–ä¸º <code>i</code>ã€‚</li>
</ul>
</li>
<li><code>B(int i, int j)</code>ï¼šæ´¾ç”Ÿç±»çš„å¸¦å‚æ„é€ å‡½æ•°ã€‚
<ul>
<li>åœ¨<strong>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</strong>ä¸­æ˜¾å¼è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•° <code>A(i)</code>ã€‚</li>
<li>å°† <code>y</code> åˆå§‹åŒ–ä¸º <code>j</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. PPT ä¸­çš„è°ƒç”¨é¡ºåºè¯´æ˜</strong></p>
<p><strong>å¯¹è±¡ <code>B b1;</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B b1;  <span class="comment">// æ‰§è¡Œ A::A() å’Œ B::B()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>b1</code> è°ƒç”¨æ´¾ç”Ÿç±»çš„é»˜è®¤æ„é€ å‡½æ•° <code>B()</code>ã€‚</li>
<li><code>B()</code> ä¼šéšå¼è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•° <code>A()</code>ã€‚</li>
</ul>
<p><strong>å¯¹è±¡ <code>B b2(1);</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">B <span class="title">b2</span><span class="params">(<span class="number">1</span>)</span></span>;  <span class="comment">// æ‰§è¡Œ A::A() å’Œ B::B(int)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>b2</code> è°ƒç”¨æ´¾ç”Ÿç±»çš„å¸¦å‚æ„é€ å‡½æ•° <code>B(int)</code>ã€‚</li>
<li><code>B(int)</code> åŒæ ·éšå¼è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•° <code>A()</code>ã€‚</li>
</ul>
<p><strong>å¯¹è±¡ <code>B b3(0, 1);</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">B <span class="title">b3</span><span class="params">(<span class="number">0</span>, <span class="number">1</span>)</span></span>;  <span class="comment">// æ‰§è¡Œ A::A(int) å’Œ B::B(int, int)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>b3</code> è°ƒç”¨æ´¾ç”Ÿç±»çš„å¸¦å‚æ„é€ å‡½æ•° <code>B(int, int)</code>ã€‚</li>
<li><code>B(int, int)</code> åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾å¼è°ƒç”¨äº†åŸºç±»çš„å¸¦å‚æ„é€ å‡½æ•° <code>A(int)</code>ã€‚</li>
</ul>
<p><strong>4. æ³¨æ„äº‹é¡¹</strong></p>
<p><strong>åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°</strong></p>
<ul>
<li>å¦‚æœåŸºç±»ä¸­æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾å¼è°ƒç”¨åŸºç±»çš„å…¶ä»–æ„é€ å‡½æ•°ï¼Œå¦åˆ™ä¼šç¼–è¯‘æŠ¥é”™ã€‚</li>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>(<span class="type">int</span> i) &#123; x = i; &#125;  <span class="comment">// æ²¡æœ‰æä¾›é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">B</span>(<span class="type">int</span> i) : <span class="built_in">A</span>(i) &#123;&#125;   <span class="comment">// å¿…é¡»æ˜¾å¼è°ƒç”¨ A(int) æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„é¡ºåº</strong></p>
<ul>
<li>åˆå§‹åŒ–åˆ—è¡¨çš„æ‰§è¡Œé¡ºåºæ˜¯æŒ‰ç…§æˆå‘˜çš„å£°æ˜é¡ºåºï¼Œè€Œä¸æ˜¯åˆå§‹åŒ–åˆ—è¡¨ä¸­å‡ºç°çš„é¡ºåºã€‚</li>
<li>ä¾‹å¦‚ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>() : <span class="built_in">y</span>(<span class="number">2</span>), <span class="built_in">x</span>(<span class="number">1</span>) &#123;&#125;  <span class="comment">// x ä»ç„¶ä¼šåœ¨ y ä¹‹å‰åˆå§‹åŒ–</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>1. <code>using A::A</code> æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p><code>using A::A</code> æ˜¯ C++11 å¼•å…¥çš„ä¸€ç§æ–°ç‰¹æ€§ï¼Œç”¨äº<strong>ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°</strong>ã€‚è¿™æ„å‘³ç€ï¼Œå½“æ´¾ç”Ÿç±»å£°æ˜ <code>using A::A</code> åï¼ŒåŸºç±»çš„æ„é€ å‡½æ•°ä¼šè¢«å¼•å…¥åˆ°æ´¾ç”Ÿç±»ä¸­ï¼Œå¯ä»¥ç›´æ¥ç”¨äºæ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li>ä¹‹å‰çš„å†™æ³•ï¼ˆC++11 ä¹‹å‰ï¼‰ï¼š
<ul>
<li>æ´¾ç”Ÿç±»å¿…é¡»æ‰‹åŠ¨å®šä¹‰æ„é€ å‡½æ•°ï¼Œå³ä½¿å…¶é€»è¾‘å’ŒåŸºç±»çš„æ„é€ å‡½æ•°å®Œå…¨ç›¸åŒã€‚</li>
</ul>
</li>
<li>C++11 åçš„æ”¹è¿›ï¼š
<ul>
<li>é€šè¿‡ <code>using A::A</code>ï¼Œå¯ä»¥ç›´æ¥â€œç»§æ‰¿â€åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œä¸éœ€è¦é‡å¤ä¹¦å†™ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. ä¸ºä»€ä¹ˆéœ€è¦ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°ï¼Ÿ</strong></p>
<p>å¦‚æœæ´¾ç”Ÿç±»æ²¡æœ‰ç‰¹æ®Šçš„åˆå§‹åŒ–é€»è¾‘ï¼Œè€Œä»…ä»…æ˜¯æƒ³æ²¿ç”¨åŸºç±»çš„æ„é€ å‡½æ•°é€»è¾‘ï¼Œç»§æ‰¿æ„é€ å‡½æ•°å¯ä»¥å‡å°‘ä»£ç é‡å¤ï¼Œç®€åŒ–å¼€å‘ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>(<span class="type">int</span> x) &#123; <span class="comment">/*...*/</span> &#125;        <span class="comment">// å¸¦å‚æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">A</span>(<span class="type">double</span> y) &#123; <span class="comment">/*...*/</span> &#125;     <span class="comment">// å¸¦å‚æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä¸ä½¿ç”¨ using A::Aï¼Œå¿…é¡»é‡å¤å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">B</span>(<span class="type">int</span> x) : <span class="built_in">A</span>(x) &#123;&#125;          <span class="comment">// å¿…é¡»æ‰‹åŠ¨è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">B</span>(<span class="type">double</span> y) : <span class="built_in">A</span>(y) &#123;&#125;       <span class="comment">// é‡å¤å®šä¹‰åŒæ ·çš„é€»è¾‘</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>using</code> åï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="keyword">using</span> A::A;   <span class="comment">// ç›´æ¥ç»§æ‰¿ A çš„æ‰€æœ‰æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœï¼š</strong></p>
<ul>
<li>åŸºç±»çš„æ„é€ å‡½æ•° <code>A(int)</code> å’Œ <code>A(double)</code> ç°åœ¨éƒ½å¯ä»¥ç›´æ¥ç”¨æ¥åˆ›å»ºæ´¾ç”Ÿç±»çš„å¯¹è±¡ <code>B</code>ã€‚</li>
<li>ä¸éœ€è¦åœ¨æ´¾ç”Ÿç±»ä¸­é‡å¤å®šä¹‰ä¸åŸºç±»ä¸€è‡´çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
<p><strong>3. ç»§æ‰¿æ„é€ å‡½æ•°çš„å·¥ä½œåŸç†</strong></p>
<p>ç»§æ‰¿æ„é€ å‡½æ•°ä¼šå°†åŸºç±»çš„æ„é€ å‡½æ•°<strong>è‡ªåŠ¨æ·»åŠ åˆ°æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°é›†</strong>ä¸­ï¼Œä½†æœ‰ä»¥ä¸‹é™åˆ¶å’Œç‰¹ç‚¹ï¼š</p>
<ol>
<li><strong>æ„é€ å‡½æ•°æœ¬è´¨ä¸Šæ˜¯â€œå¤åˆ¶â€åˆ°æ´¾ç”Ÿç±»ä¸­ï¼š</strong>
<ul>
<li>æ´¾ç”Ÿç±»å¯¹è±¡åˆå§‹åŒ–æ—¶ï¼ŒåŸºç±»çš„æ„é€ å‡½æ•°ä¼šåƒâ€œè¢«ç›´æ¥å¤åˆ¶åˆ°æ´¾ç”Ÿç±»â€ä¸€æ ·è¢«è°ƒç”¨ã€‚</li>
</ul>
</li>
<li><strong>å¯ä»¥é‡å†™ç»§æ‰¿çš„æ„é€ å‡½æ•°ï¼š</strong>
<ul>
<li>å¦‚æœæ´¾ç”Ÿç±»éœ€è¦å¯¹åŸºç±»çš„æŸäº›æ„é€ å‡½æ•°æ·»åŠ æ–°çš„é€»è¾‘ï¼Œå¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è¿™äº›æ„é€ å‡½æ•°ï¼Œè¦†ç›–ç»§æ‰¿çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
<li><strong>ä¸ä¼šç»§æ‰¿é»˜è®¤æ„é€ å‡½æ•°ï¼š</strong>
<ul>
<li>å¦‚æœåŸºç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä»éœ€è¦æ˜¾å¼å®šä¹‰å…¶è‡ªå·±çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
</ol>
<p>-<strong>4. ç¤ºä¾‹ä»£ç </strong></p>
<p><strong>ç¤ºä¾‹ 1ï¼šç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>(<span class="type">int</span> x) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;A(int x) called with x = &quot;</span> &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">A</span>(<span class="type">double</span> y) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;A(double y) called with y = &quot;</span> &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="keyword">using</span> A::A;  <span class="comment">// ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">B <span class="title">b1</span><span class="params">(<span class="number">10</span>)</span></span>;      <span class="comment">// è°ƒç”¨ A(int x)</span></span><br><span class="line">    <span class="function">B <span class="title">b2</span><span class="params">(<span class="number">3.14</span>)</span></span>;    <span class="comment">// è°ƒç”¨ A(double y)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A(int x) called with x = 10</span><br><span class="line">A(double y) called with y = 3.14</span><br></pre></td></tr></table></figure>
<ul>
<li><code>B b1(10)</code>ï¼šé€šè¿‡ç»§æ‰¿çš„æ„é€ å‡½æ•° <code>A(int x)</code> åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
<li><code>B b2(3.14)</code>ï¼šé€šè¿‡ç»§æ‰¿çš„æ„é€ å‡½æ•° <code>A(double y)</code> åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 2ï¼šåŸºç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°</strong></p>
<p>å¦‚æœåŸºç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»å¿…é¡»æ˜¾å¼è°ƒç”¨åŸºç±»çš„æŸä¸ªæ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> value;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>(<span class="type">int</span> x) : <span class="built_in">value</span>(x) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;A(int x) called with x = &quot;</span> &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="keyword">using</span> A::A;  <span class="comment">// ç»§æ‰¿æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">B <span class="title">b1</span><span class="params">(<span class="number">5</span>)</span></span>;  <span class="comment">// æ­£å¸¸ï¼Œå› ä¸º A(int x) è¢«ç»§æ‰¿</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†å¦‚æœå°è¯•é»˜è®¤æ„é€  <code>B</code>ï¼Œä¼šç¼–è¯‘å¤±è´¥ï¼Œå› ä¸º <code>A</code> æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B b2;  <span class="comment">// é”™è¯¯ï¼šA æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure>
<p><strong>4. æ³¨æ„äº‹é¡¹å’Œé™åˆ¶</strong></p>
<ol>
<li><strong><code>using A::A</code> å¹¶ä¸ç»§æ‰¿æ‰€æœ‰æ„é€ å‡½æ•°</strong>
<ul>
<li>ææ„å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€ç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šè¢«ç»§æ‰¿ã€‚</li>
</ul>
</li>
<li><strong>å¯ä»¥ç»§æ‰¿çš„æ„é€ å‡½æ•°æœ‰é™åˆ¶</strong>
<ul>
<li>åŸºç±»ä¸­çš„æ„é€ å‡½æ•°å¦‚æœè¢«æ ‡è®°ä¸º <code>=delete</code>ï¼Œåˆ™æ´¾ç”Ÿç±»ä¸èƒ½ç»§æ‰¿è¿™äº›æ„é€ å‡½æ•°ã€‚</li>
<li>æ´¾ç”Ÿç±»ä¸èƒ½ç»§æ‰¿ <code>explicit</code> æ ‡è®°çš„åŸºç±»æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
<li><strong>é¿å…è±å½¢ç»§æ‰¿æ—¶çš„æ­§ä¹‰</strong>
<ul>
<li>åœ¨å¤šé‡ç»§æ‰¿ä¸­ä½¿ç”¨ <code>using</code> æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ­§ä¹‰ï¼Œéœ€è¦å°å¿ƒå¤„ç†ã€‚</li>
</ul>
</li>
</ol>
<h2 id="è™šå‡½æ•°">è™šå‡½æ•°</h2>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220090110648.png" class="" title="image-20241220090110648">
<p><strong>1. ç±»å‹ç›¸å®¹æ€§æ¦‚å¿µ</strong></p>
<ul>
<li><strong>ç±»ã€ç±»å‹ï¼š</strong>
<ul>
<li>C++ ä¸­çš„å¯¹è±¡å¯ä»¥åˆ†ä¸ºåŸºç±»ï¼ˆBase Classï¼‰å’Œæ´¾ç”Ÿç±»ï¼ˆDerived Classï¼‰ï¼Œæ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»çš„ç‰¹æ€§ã€‚</li>
<li>ç±»å‹ç›¸å®¹æ€§ä¸»è¦æŒ‡ï¼š<strong>ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡èƒ½å¦èµ‹å€¼æˆ–è½¬æ¢ä¸ºåŸºç±»ç±»å‹ï¼Œä»¥åŠå¦‚ä½•åœ¨è¿è¡Œæ—¶æˆ–ç¼–è¯‘æ—¶è¿›è¡Œè½¬æ¢</strong>ã€‚</li>
</ul>
</li>
<li><strong>ç±»å‹ç›¸å®¹æ€§åˆ†ä¸ºä¸¤ç§ï¼š</strong>
<ul>
<li>èµ‹å€¼ç›¸å®¹æ€§ï¼š
<ul>
<li>åŸºç±»çš„æŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚</li>
<li>ä½†æ´¾ç”Ÿç±»çš„æŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰ä¸èƒ½ç›´æ¥æŒ‡å‘åŸºç±»çš„å¯¹è±¡ï¼Œå¿…é¡»è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ã€‚</li>
</ul>
</li>
<li>èµ‹å€¼ç›¸å®¹æ—¶çš„è¡Œä¸ºï¼š
<ul>
<li>å½“åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œé€šè¿‡åŸºç±»æŒ‡é’ˆåªèƒ½è®¿é—®åŸºç±»çš„æˆå‘˜ï¼Œè€Œ<strong>æ´¾ç”Ÿç±»çš„ç‹¬æœ‰æˆå‘˜å°†â€œä¸å¯è§â€</strong>ã€‚</li>
<li>å¦‚æœ<strong>åŸºç±»ä¸­çš„æˆå‘˜æ˜¯è™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»çš„é‡å†™ç‰ˆæœ¬ä¼šåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨</strong>ï¼ˆå¤šæ€çš„åŸºç¡€ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>2. é—®é¢˜åˆ†æï¼š<code>a = b</code> æ˜¯å¦åˆæ³•</strong></p>
<p>ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A a; </span><br><span class="line">B b;  <span class="comment">// å‡è®¾ class B : public A;</span></span><br><span class="line">a = b;  <span class="comment">// åˆæ³•å—ï¼Ÿ</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>è¯­æ³•è§£é‡Šï¼š</strong>
<ul>
<li>è¿™é‡Œçš„ <code>a</code> æ˜¯åŸºç±»å¯¹è±¡ï¼Œ<code>b</code> æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œ<code>class B : public A</code> è¡¨ç¤º <code>B</code> ç»§æ‰¿è‡ª <code>A</code>ã€‚</li>
<li>å½“ <code>b</code> èµ‹å€¼ç»™ <code>a</code> æ—¶ï¼Œä¼šè§¦å‘ <strong>â€œå¯¹è±¡åˆ‡å‰²â€ï¼ˆObject Slicingï¼‰</strong>ã€‚</li>
</ul>
</li>
<li><strong>å¯¹è±¡åˆ‡å‰²ï¼š</strong>
<ul>
<li>ç”±äº <code>a</code> æ˜¯åŸºç±»å¯¹è±¡ï¼Œèµ‹å€¼æ“ä½œä¼šâ€œåˆ‡å‰²â€æ‰ <code>b</code> ä¸­æ´¾ç”Ÿç±»éƒ¨åˆ†çš„å†…å®¹ï¼Œä»…ä¿ç•™åŸºç±» <code>A</code> çš„æˆå‘˜ã€‚</li>
<li><strong>ç»“è®ºï¼šåˆæ³•ï¼Œä½†ä¼šå¯¼è‡´æ´¾ç”Ÿç±»éƒ¨åˆ†çš„æˆå‘˜ä¸¢å¤±ã€‚</strong></li>
</ul>
</li>
</ul>
<p>PPT çš„æè¿°ï¼š</p>
<ul>
<li>å¯¹è±¡çš„èº«ä»½å‘ç”Ÿå˜åŒ–ï¼š
<ul>
<li>å½“ <code>a = b</code> æ—¶ï¼Œ<code>b</code> çš„æ´¾ç”Ÿç±»èº«ä»½è¢«â€œåˆ‡å‰²â€ï¼Œåªä¿ç•™åŸºç±» <code>A</code> çš„éƒ¨åˆ†ã€‚</li>
<li><strong>æ´¾ç”Ÿç±»çš„å±æ€§å’Œæ–¹æ³•</strong>ï¼ˆä¸åŒ…æ‹¬è™šå‡½æ•°ï¼‰åœ¨èµ‹å€¼ç»™åŸºç±»å¯¹è±¡æ—¶ï¼Œå·²ç»ä¸å­˜åœ¨ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. ç¬¬äºŒéƒ¨åˆ†ï¼šæŒ‡é’ˆå’Œå¼•ç”¨çš„èµ‹å€¼</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B* pb;</span><br><span class="line">A* pa = pb;  <span class="comment">// åˆæ³•ï¼ŒæŒ‡é’ˆç±»å‹å‘ä¸Šè½¬å‹</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‡é’ˆèµ‹å€¼ï¼š
<ul>
<li>å½“ <code>pb</code>ï¼ˆæ´¾ç”Ÿç±»æŒ‡é’ˆï¼‰èµ‹å€¼ç»™ <code>pa</code>ï¼ˆåŸºç±»æŒ‡é’ˆï¼‰æ—¶ï¼Œè¿™æ˜¯åˆæ³•çš„ï¼Œç§°ä¸º<strong>å‘ä¸Šè½¬å‹ï¼ˆUpcastingï¼‰</strong>ã€‚</li>
<li>å‘ä¸Šè½¬å‹ï¼š
<ul>
<li>åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½†<strong>åªèƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆè®¿é—®åŸºç±»çš„æˆå‘˜</strong>ã€‚</li>
<li>å¦‚æœåŸºç±»æœ‰è™šå‡½æ•°ï¼Œåˆ™<strong>é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°ï¼Œä¼šåŠ¨æ€ç»‘å®šåˆ°æ´¾ç”Ÿç±»çš„å®ç°</strong>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B b;</span><br><span class="line">A&amp; a = b;  <span class="comment">// åˆæ³•ï¼Œå¼•ç”¨ç±»å‹å‘ä¸Šè½¬å‹</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¼•ç”¨èµ‹å€¼ï¼š
<ul>
<li>å’ŒæŒ‡é’ˆç±»ä¼¼ï¼Œæ´¾ç”Ÿç±»å¯¹è±¡ <code>b</code> å¯ä»¥ç»‘å®šåˆ°åŸºç±»å¼•ç”¨ <code>a</code>ã€‚</li>
<li>è¿™æ„å‘³ç€ <code>a</code> é€šè¿‡å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œä»ç„¶<strong>åªèƒ½è®¿é—®åŸºç±»æˆå‘˜ï¼ˆéè™šå‡½æ•°æ—¶ï¼‰</strong>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>4. è™šå‡½æ•°çš„è¡Œä¸º</strong></p>
<ul>
<li>
<p><strong>è™šå‡½æ•°å¤šæ€ï¼š</strong></p>
<ul>
<li>è™šå‡½æ•°æ˜¯ C++ å®ç°å¤šæ€çš„å…³é”®ã€‚<strong>é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œæœ€ç»ˆè°ƒç”¨çš„æ˜¯æ´¾ç”Ÿç±»çš„å®ç°</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¾‹å­è§£é‡Šï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;A::show()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;B::show()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">A* pa = <span class="keyword">new</span> <span class="built_in">B</span>();</span><br><span class="line">pa-&gt;<span class="built_in">show</span>();  <span class="comment">// è¾“å‡ºï¼šB::show()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>pa</code> æ˜¯åŸºç±»æŒ‡é’ˆï¼ŒæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ <code>B</code>ã€‚</li>
<li>å› ä¸º <code>show()</code> æ˜¯è™šå‡½æ•°ï¼Œè°ƒç”¨æ—¶ä¼šåŠ¨æ€ç»‘å®šåˆ° <code>B</code> çš„å®ç°ã€‚</li>
</ul>
</li>
<li>
<p><strong>éè™šå‡½æ•°ï¼š</strong></p>
<ul>
<li>å¦‚æœ <code>show()</code> ä¸æ˜¯è™šå‡½æ•°ï¼Œåˆ™è°ƒç”¨ <code>pa-&gt;show()</code> ä¼šé™æ€ç»‘å®šåˆ°åŸºç±»çš„å®ç°ï¼Œè¾“å‡º <code>A::show()</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>5. PPT ä¸Šæè¿°çš„å…·ä½“åœºæ™¯</strong></p>
<p><strong>ç¬¬ä¸€è¡Œï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A a;</span><br><span class="line">B b;  <span class="comment">// class B : public A;</span></span><br><span class="line">a = b;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ç»“è®ºï¼šåˆæ³•ã€‚</strong></li>
<li>è¿™æ˜¯èµ‹å€¼ç›¸å®¹æ€§ã€‚æ´¾ç”Ÿç±»å¯¹è±¡ <code>b</code> èµ‹å€¼ç»™åŸºç±»å¯¹è±¡ <code>a</code> æ—¶ï¼Œæ´¾ç”Ÿç±»çš„éƒ¨åˆ†è¢«åˆ‡å‰²ã€‚</li>
</ul>
<p><strong>ç¬¬äºŒè¡Œï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B* pb;</span><br><span class="line">A* pa = pb;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ç»“è®ºï¼šåˆæ³•ã€‚</strong></li>
<li>è¿™æ˜¯æŒ‡é’ˆç±»å‹çš„å‘ä¸Šè½¬å‹ã€‚åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</li>
</ul>
<p><strong>ç¬¬ä¸‰è¡Œï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B b;</span><br><span class="line">A&amp; a = b;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ç»“è®ºï¼šåˆæ³•ã€‚</strong></li>
<li>è¿™æ˜¯å¼•ç”¨ç±»å‹çš„å‘ä¸Šè½¬å‹ã€‚åŸºç±»å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</li>
</ul>
<p><strong>6. æ€»ç»“ï¼šæ´¾ç”Ÿç±»åˆ°åŸºç±»çš„ç±»å‹ç›¸å®¹æ€§</strong></p>
<ol>
<li><strong>å¯¹è±¡èµ‹å€¼ï¼š</strong>
<ul>
<li>æ´¾ç”Ÿç±»å¯¹è±¡èµ‹å€¼ç»™åŸºç±»å¯¹è±¡æ—¶ï¼Œåˆæ³•ï¼Œä½†ä¼šè§¦å‘â€œå¯¹è±¡åˆ‡å‰²â€ï¼Œä¸¢å¤±æ´¾ç”Ÿç±»çš„æˆå‘˜ã€‚</li>
</ul>
</li>
<li><strong>æŒ‡é’ˆèµ‹å€¼ï¼ˆå‘ä¸Šè½¬å‹ï¼‰ï¼š</strong>
<ul>
<li>åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œåˆæ³•ï¼Œä½†é€šè¿‡åŸºç±»æŒ‡é’ˆåªèƒ½è®¿é—®åŸºç±»çš„æˆå‘˜ã€‚</li>
</ul>
</li>
<li><strong>å¼•ç”¨èµ‹å€¼ï¼ˆå‘ä¸Šè½¬å‹ï¼‰ï¼š</strong>
<ul>
<li>åŸºç±»å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œåˆæ³•ï¼Œä½†åªèƒ½é€šè¿‡åŸºç±»å¼•ç”¨è®¿é—®åŸºç±»çš„æˆå‘˜ã€‚</li>
</ul>
</li>
<li><strong>è™šå‡½æ•°ï¼š</strong>
<ul>
<li>å¦‚æœ<strong>åŸºç±»æˆå‘˜æ˜¯è™šå‡½æ•°ï¼Œé€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨æ—¶ï¼Œè¿è¡Œæ—¶ä¼šåŠ¨æ€ç»‘å®šåˆ°æ´¾ç”Ÿç±»çš„å®ç°</strong>ï¼ˆå¤šæ€ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220092036720.png" class="" title="image-20241220092036720">
<p><strong>1. ç±»å®šä¹‰ä¸ç»§æ‰¿å…³ç³»</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;  <span class="comment">// åŸºç±»æˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="type">int</span> z;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;  <span class="comment">// æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°ï¼Œéšè— A::f()</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span></span>;  <span class="comment">// æ´¾ç”Ÿç±»ç‹¬æœ‰æˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>B</code> ç»§æ‰¿è‡ª <code>A</code>ã€‚</li>
<li><code>B::f()</code> æ˜¯ä¸€ä¸ªä¸ <code>A::f()</code> åŒåçš„å‡½æ•°ï¼Œä½†<strong>ç”±äºä¸æ˜¯è™šå‡½æ•°ï¼Œå®ƒä¸ä¼šè¦†ç›– <code>A::f()</code>ï¼Œè€Œæ˜¯éšè—å®ƒ</strong>ã€‚</li>
</ul>
<p><strong>2. å¯¹è±¡èµ‹å€¼è§„åˆ™</strong></p>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A a;</span><br><span class="line">B b;</span><br><span class="line"></span><br><span class="line">a = b;  <span class="comment">// OKï¼Œæ´¾ç”Ÿç±»å¯¹è±¡èµ‹å€¼ç»™åŸºç±»å¯¹è±¡</span></span><br><span class="line">b = a;  <span class="comment">// Errorï¼ŒåŸºç±»å¯¹è±¡ä¸èƒ½èµ‹å€¼ç»™æ´¾ç”Ÿç±»å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>a = b</code></strong>ï¼š
<ul>
<li>åŸºç±»å¯¹è±¡å¯ä»¥æ¥æ”¶æ´¾ç”Ÿç±»å¯¹è±¡èµ‹å€¼ã€‚</li>
<li><strong>å¯¹è±¡åˆ‡å‰²ï¼ˆObject Slicingï¼‰</strong>ï¼šæ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„æ‰©å±•éƒ¨åˆ†ï¼ˆå¦‚ <code>z</code> å’Œ <code>g()</code>ï¼‰ä¼šè¢«ä¸¢å¼ƒï¼Œä»…ä¿ç•™åŸºç±» <code>A</code> çš„éƒ¨åˆ†ã€‚</li>
</ul>
</li>
<li><strong><code>b = a</code></strong>ï¼š
<ul>
<li>æ´¾ç”Ÿç±»å¯¹è±¡ä¸èƒ½ç›´æ¥æ¥æ”¶åŸºç±»å¯¹è±¡èµ‹å€¼ã€‚</li>
<li>åŸå› æ˜¯æ´¾ç”Ÿç±»éœ€è¦æ‰©å±•çš„éƒ¨åˆ†æ— æ³•ä»åŸºç±»çš„éƒ¨åˆ†æ¨å¯¼å‡ºæ¥ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. å¼•ç”¨ä¸æŒ‡é’ˆè§„åˆ™</strong></p>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A &amp;r_a = b;  <span class="comment">// OKï¼ŒåŸºç±»å¼•ç”¨ç»‘å®šæ´¾ç”Ÿç±»å¯¹è±¡</span></span><br><span class="line">A *p_a = &amp;b; <span class="comment">// OKï¼ŒåŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">B &amp;r_b = a;  <span class="comment">// Errorï¼Œæ´¾ç”Ÿç±»å¼•ç”¨ä¸èƒ½ç»‘å®šåŸºç±»å¯¹è±¡</span></span><br><span class="line">B *p_b = &amp;a; <span class="comment">// Errorï¼Œæ´¾ç”Ÿç±»æŒ‡é’ˆä¸èƒ½æŒ‡å‘åŸºç±»å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>A &amp;r_a = b;</code> å’Œ <code>A *p_a = &amp;b;</code></strong>
<ul>
<li><strong>å‘ä¸Šè½¬å‹ï¼ˆUpcastingï¼‰ï¼š</strong> åŸºç±»çš„å¼•ç”¨å’ŒæŒ‡é’ˆå¯ä»¥ç»‘å®šæ´¾ç”Ÿç±»å¯¹è±¡ã€‚è¿™æ˜¯åˆæ³•çš„ï¼Œå› ä¸ºæ´¾ç”Ÿç±»å¯¹è±¡æ€»æ˜¯åŒ…å«åŸºç±»éƒ¨åˆ†ã€‚</li>
<li><strong>ä½¿ç”¨åŸºç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼Œåªèƒ½è®¿é—®åŸºç±»éƒ¨åˆ†çš„æˆå‘˜</strong>ã€‚</li>
</ul>
</li>
<li><strong><code>B &amp;r_b = a;</code> å’Œ <code>B *p_b = &amp;a;</code></strong>
<ul>
<li><strong>å‘ä¸‹è½¬å‹ï¼ˆDowncastingï¼‰ï¼š</strong> æ´¾ç”Ÿç±»çš„å¼•ç”¨å’ŒæŒ‡é’ˆä¸èƒ½ç»‘å®šåŸºç±»å¯¹è±¡ã€‚è¿™æ˜¯éæ³•çš„ï¼Œå› ä¸ºåŸºç±»å¯¹è±¡ä¸åŒ…å«æ´¾ç”Ÿç±»çš„æ‰©å±•éƒ¨åˆ†ã€‚</li>
</ul>
</li>
</ul>
<p><strong>4. æˆå‘˜å‡½æ•°è°ƒç”¨</strong></p>
<p><strong>ç›´æ¥è°ƒç”¨</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨ A::f()</span></span><br><span class="line">b.<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨ B::f()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>a.f()</code></strong> è°ƒç”¨çš„æ˜¯ <code>A::f()</code>ï¼Œå› ä¸º <code>a</code> æ˜¯åŸºç±»å¯¹è±¡ã€‚</li>
<li><strong><code>b.f()</code></strong> è°ƒç”¨çš„æ˜¯ <code>B::f()</code>ï¼Œå› ä¸º <code>b</code> æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</li>
</ul>
<p><strong>5. å‡½æ•°å‚æ•°ä¼ é€’</strong></p>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func1</span><span class="params">(A &amp;a)</span> </span>&#123;</span><br><span class="line">    a.<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨ a çš„é™æ€ç±»å‹ï¼ˆåŸºç±»ï¼‰çš„ f()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func2</span><span class="params">(A *pa)</span> </span>&#123;</span><br><span class="line">    pa-&gt;<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨æŒ‡é’ˆæ‰€æŒ‡å‘å¯¹è±¡çš„é™æ€ç±»å‹ï¼ˆåŸºç±»ï¼‰çš„ f()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">func1</span>(b);   <span class="comment">// OKï¼Œæ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä¼ é€’ç»™åŸºç±»å¼•ç”¨</span></span><br><span class="line"><span class="built_in">func2</span>(&amp;b);  <span class="comment">// OKï¼Œæ´¾ç”Ÿç±»å¯¹è±¡çš„åœ°å€å¯ä»¥ä¼ é€’ç»™åŸºç±»æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>func1(b)</code> å’Œ <code>func2(&amp;b)</code>ï¼š
<ul>
<li><strong>åŸºç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆå¯ä»¥æ¥æ”¶æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</strong></li>
<li>å¦‚æœ <code>A::f()</code> æ˜¯è™šå‡½æ•°ï¼Œåˆ™ä¼šåŠ¨æ€ç»‘å®šè°ƒç”¨æ´¾ç”Ÿç±» <code>B::f()</code>ã€‚</li>
<li>å¦‚æœ <code>A::f()</code> æ˜¯<strong>æ™®é€šå‡½æ•°ï¼Œåˆ™é™æ€ç»‘å®š</strong>ï¼Œè°ƒç”¨ <code>A::f()</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>6. å˜é‡å£°æ˜è§„åˆ™</strong></p>
<ul>
<li>
<p><strong>å¯¹è±¡èµ‹å€¼ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A a;</span><br><span class="line">B b;</span><br><span class="line"></span><br><span class="line">a = b;  <span class="comment">// OK</span></span><br><span class="line">b = a;  <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åŸºç±»å¯¹è±¡å¯ä»¥æ¥æ”¶æ´¾ç”Ÿç±»å¯¹è±¡èµ‹å€¼ï¼Œä½†ä¼šå‘ç”Ÿå¯¹è±¡åˆ‡å‰²ã€‚</li>
<li>æ´¾ç”Ÿç±»å¯¹è±¡ä¸èƒ½ç›´æ¥æ¥æ”¶åŸºç±»å¯¹è±¡èµ‹å€¼ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼•ç”¨ä¸æŒ‡é’ˆï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A &amp;r_a = b;  <span class="comment">// OK</span></span><br><span class="line">A *p_a = &amp;b; <span class="comment">// OK</span></span><br><span class="line">B &amp;r_b = a;  <span class="comment">// Error</span></span><br><span class="line">B *p_b = &amp;a; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åŸºç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆå¯ä»¥ç»‘å®šæ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½†åä¹‹ä¸æˆç«‹ã€‚</li>
</ul>
</li>
</ul>
<p><strong>7. æ€»ç»“</strong></p>
<ul>
<li><strong>å‘ä¸Šè½¬å‹</strong>ï¼ˆUpcastingï¼‰æ˜¯å…è®¸çš„ï¼Œå³åŸºç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆå¯ä»¥ç»‘å®šæ´¾ç”Ÿç±»å¯¹è±¡ã€‚</li>
<li><strong>å‘ä¸‹è½¬å‹</strong>ï¼ˆDowncastingï¼‰æ˜¯éæ³•çš„ï¼Œå³æ´¾ç”Ÿç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆä¸èƒ½ç»‘å®šåŸºç±»å¯¹è±¡ã€‚</li>
<li><strong>éè™šå‡½æ•°</strong>åœ¨è°ƒç”¨æ—¶æ˜¯é™æ€ç»‘å®šçš„ï¼Œè°ƒç”¨çš„æ˜¯å¯¹è±¡çš„é™æ€ç±»å‹å¯¹åº”çš„å‡½æ•°ã€‚</li>
<li>å‡½æ•°å‚æ•°ä¼ é€’æ—¶ï¼ŒåŸºç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆå¯ä»¥æ¥æ”¶æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œå¹¶æ ¹æ®è™šå‡½æ•°æœºåˆ¶å†³å®šè°ƒç”¨å“ªä¸€ç‰ˆæœ¬çš„æˆå‘˜å‡½æ•°ã€‚</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241220235838835.png" class="" title="image-20241220235838835">
<p><strong>1. å‰æœŸç»‘å®šï¼ˆEarly Bindingï¼‰</strong></p>
<p><strong>å®šä¹‰</strong>ï¼šåœ¨<strong>ç¼–è¯‘æ—¶åˆ»</strong>ç¡®å®šå‡½æ•°è°ƒç”¨çš„å…·ä½“å®ç°ï¼Œç»‘å®šåˆ°å¯¹è±¡çš„é™æ€ç±»å‹ã€‚</p>
<ul>
<li>
<p><strong>ç»‘å®šæ—¶æœº</strong>ï¼šç¼–è¯‘é˜¶æ®µã€‚</p>
</li>
<li>
<p><strong>ä¾æ®</strong>ï¼šé™æ€ç±»å‹ï¼ˆStatic Typeï¼‰ã€‚å³å¯¹è±¡åœ¨å®šä¹‰æ—¶çš„ç±»å‹ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶å¯¹è±¡çš„å®é™…ç±»å‹ã€‚</p>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>æ•ˆç‡é«˜</strong>ï¼šå‡½æ•°è°ƒç”¨ç›´æ¥é€šè¿‡å¯¹è±¡çš„é™æ€ç±»å‹è¿›è¡Œï¼Œæ— éœ€åŠ¨æ€æŸ¥è¡¨ï¼Œé€Ÿåº¦è¾ƒå¿«ã€‚</li>
<li><strong>çµæ´»æ€§å·®</strong>ï¼šå¯¹è±¡çš„å®é™…ç±»å‹å¯èƒ½ä¸é™æ€ç±»å‹ä¸ä¸€è‡´ï¼Œå¯èƒ½å¯¼è‡´å¤šæ€æ€§ä¸§å¤±ã€‚</li>
</ul>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šéè™šå‡½æ•°ã€‚</p>
<ul>
<li>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;A::func()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;B::func()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">A a;</span><br><span class="line">B b;</span><br><span class="line">A* p = &amp;b;</span><br><span class="line">p-&gt;<span class="built_in">func</span>();  <span class="comment">// è¾“å‡º &quot;A::func()&quot;ï¼Œå› ä¸ºæ˜¯å‰æœŸç»‘å®š</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å°½ç®¡ <code>p</code> æŒ‡å‘ä¸€ä¸ª <code>B</code> å¯¹è±¡ï¼Œä½†è°ƒç”¨çš„æ˜¯ <code>A::func()</code>ï¼Œå› ä¸ºæ˜¯åŸºäºé™æ€ç±»å‹ <code>A</code> è¿›è¡Œçš„ç»‘å®šã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>2. åæœŸç»‘å®šï¼ˆLate Bindingï¼‰</strong></p>
<p><strong>å®šä¹‰</strong>ï¼šåœ¨<strong>è¿è¡Œæ—¶åˆ»</strong>æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹ç¡®å®šå‡½æ•°è°ƒç”¨çš„å…·ä½“å®ç°ã€‚</p>
<ul>
<li>
<p><strong>ç»‘å®šæ—¶æœº</strong>ï¼šè¿è¡Œé˜¶æ®µã€‚</p>
</li>
<li>
<p><strong>ä¾æ®</strong>ï¼šåŠ¨æ€ç±»å‹ï¼ˆDynamic Typeï¼‰ã€‚å³å¯¹è±¡åœ¨è¿è¡Œæ—¶çš„å®é™…ç±»å‹ï¼Œè€Œä¸æ˜¯ç¼–è¯‘æ—¶çš„é™æ€ç±»å‹ã€‚</p>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>çµæ´»æ€§é«˜</strong>ï¼šå¯ä»¥å®ç°<strong>å¤šæ€</strong>ï¼ŒåŠ¨æ€è°ƒç”¨ä¸åŒç±»å‹çš„å‡½æ•°ã€‚</li>
<li><strong>æ•ˆç‡ä½</strong>ï¼šéœ€è¦<strong>é€šè¿‡è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰æŸ¥æ‰¾å‡½æ•°åœ°å€</strong>ï¼Œä¼šæœ‰ä¸€å®šçš„<strong>è¿è¡Œæ—¶å¼€é”€</strong>ã€‚</li>
</ul>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šè™šå‡½æ•°ï¼ˆvirtualï¼‰ã€‚</p>
<ul>
<li>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;A::func()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;B::func()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">A a;</span><br><span class="line">B b;</span><br><span class="line">A* p = &amp;b;</span><br><span class="line">p-&gt;<span class="built_in">func</span>();  <span class="comment">// è¾“å‡º &quot;B::func()&quot;ï¼Œå› ä¸ºæ˜¯åæœŸç»‘å®š</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è™½ç„¶ <code>p</code> æ˜¯ <code>A*</code> ç±»å‹ï¼Œä½†å®é™…æŒ‡å‘çš„æ˜¯ä¸€ä¸ª <code>B</code> å¯¹è±¡ï¼Œå› æ­¤è°ƒç”¨ <code>B::func()</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>3. æ³¨æ„æ•ˆç‡</strong></p>
<p>PPTæŒ‡å‡ºï¼š</p>
<ul>
<li><strong>é»˜è®¤å‰æœŸç»‘å®š</strong>ï¼šC++ é»˜è®¤å¯¹éè™šå‡½æ•°è¿›è¡Œå‰æœŸç»‘å®šï¼ŒåŸå› æ˜¯æ•ˆç‡æ›´é«˜ã€‚</li>
<li>åæœŸç»‘å®šéœ€è¦æ˜¾å¼å£°æ˜ <code>virtual</code>ï¼š
<ul>
<li>åªæœ‰å£°æ˜ä¸ºè™šå‡½æ•°çš„æˆå‘˜å‡½æ•°ï¼Œæ‰èƒ½å®ç°åæœŸç»‘å®šã€‚</li>
<li>è™šå‡½æ•°çš„è°ƒç”¨éœ€è¦ä¾èµ–è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰å’Œè™šå‡½æ•°æŒ‡é’ˆï¼ˆvptrï¼‰ï¼Œå› æ­¤æ•ˆç‡ç¨ä½ã€‚</li>
</ul>
</li>
</ul>
<p><strong>4. æ€»ç»“</strong></p>
<table>
<thead>
<tr>
<th><strong>ç‰¹æ€§</strong></th>
<th><strong>å‰æœŸç»‘å®šï¼ˆEarly Bindingï¼‰</strong></th>
<th><strong>åæœŸç»‘å®šï¼ˆLate Bindingï¼‰</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç»‘å®šæ—¶æœº</strong></td>
<td>ç¼–è¯‘æ—¶</td>
<td>è¿è¡Œæ—¶</td>
</tr>
<tr>
<td><strong>ä¾æ®</strong></td>
<td>å¯¹è±¡çš„é™æ€ç±»å‹</td>
<td>å¯¹è±¡çš„å®é™…ç±»å‹</td>
</tr>
<tr>
<td><strong>æ•ˆç‡</strong></td>
<td>é«˜</td>
<td>ä½</td>
</tr>
<tr>
<td><strong>çµæ´»æ€§</strong></td>
<td>å·®</td>
<td>é«˜</td>
</tr>
<tr>
<td><strong>å…³é”®å­—</strong></td>
<td>é»˜è®¤è¡Œä¸º</td>
<td>éœ€è¦æ˜¾å¼å£°æ˜ <code>virtual</code></td>
</tr>
<tr>
<td><strong>åœºæ™¯</strong></td>
<td>éè™šå‡½æ•°è°ƒç”¨</td>
<td>è™šå‡½æ•°è°ƒç”¨</td>
</tr>
</tbody>
</table>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221000205755.png" class="" title="image-20241221000205755">
<p><strong>1. å®šä¹‰ï¼šè™šå‡½æ•°</strong></p>
<p>åœ¨C++ä¸­ï¼Œ<strong>è™šå‡½æ•°</strong>æ˜¯ä½¿ç”¨å…³é”®å­—<code>virtual</code>å£°æ˜çš„ç±»æˆå‘˜å‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å®ç°<strong>åŠ¨æ€ç»‘å®š</strong>ï¼ˆLate Bindingï¼‰ï¼Œä»è€Œæ”¯æŒ<strong>å¤šæ€æ€§</strong>ã€‚</p>
<ul>
<li>
<p>è™šå‡½æ•°çš„å£°æ˜ï¼šåœ¨åŸºç±»ä¸­ä½¿ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtual</span><br></pre></td></tr></table></figure>
<p>å£°æ˜ä¸€ä¸ªå‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;  <span class="comment">// å£°æ˜è™šå‡½æ•°f</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2. æ–¹æ³•é‡å®šä¹‰</strong></p>
<p>è™šå‡½æ•°æ”¯æŒåœ¨æ´¾ç”Ÿç±»ä¸­è¿›è¡Œ<strong>æ–¹æ³•é‡å®šä¹‰ï¼ˆOverrideï¼‰</strong>ï¼Œä»è€Œå®ç°å¤šæ€æ€§ã€‚</p>
<ul>
<li>
<p><strong>æ–¹æ³•é‡å®šä¹‰çš„è¦æ±‚</strong>ï¼š</p>
<ul>
<li>å‡½æ•°åç›¸åŒã€‚</li>
<li>å‚æ•°åˆ—è¡¨ç›¸åŒï¼ˆåŒ…æ‹¬å‚æ•°æ•°é‡å’Œç±»å‹ï¼‰ã€‚</li>
<li>è¿”å›å€¼ç±»å‹ä¸€è‡´ï¼ˆæˆ–è€…åœ¨C++11ä¸­æ”¯æŒåå˜è¿”å›ç±»å‹ï¼‰ã€‚</li>
<li>éœ€è¦æ˜¾å¼æ ‡è®°<code>virtual</code>å…³é”®å­—ï¼ˆåœ¨åŸºç±»ä¸­å£°æ˜å³å¯ï¼Œæ´¾ç”Ÿç±»ä¸éœ€è¦é‡å¤æ ‡è®°ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;A::show()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;B::show()&quot;</span> &lt;&lt; endl; &#125;  <span class="comment">// é‡å†™show</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">A* a = <span class="keyword">new</span> <span class="built_in">B</span>();</span><br><span class="line">a-&gt;<span class="built_in">show</span>();  <span class="comment">// è¾“å‡º &quot;B::show()&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221000221739.png" class="" title="image-20241221000221739">
<p><strong>1. è™šå‡½æ•°çš„å®šä¹‰</strong></p>
<ul>
<li>å¦‚æœåœ¨åŸºç±»ä¸­æŸä¸ªæˆå‘˜å‡½æ•°è¢«å®šä¹‰ä¸ºè™šå‡½æ•°ï¼ˆç”¨<code>virtual</code>å…³é”®å­—ä¿®é¥°ï¼‰ï¼Œåˆ™<strong>æ´¾ç”Ÿç±»ä¸­å¯¹è¯¥å‡½æ•°çš„é‡å®šä¹‰ï¼ˆoverrideï¼‰ä¹Ÿå°†æ˜¯è™šå‡½æ•°</strong>ã€‚
<ul>
<li>è™šå‡½æ•°æ”¯æŒ<strong>åŠ¨æ€ç»‘å®š</strong>ï¼Œå³åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹è°ƒç”¨å¯¹åº”çš„å‡½æ•°å®ç°ï¼Œè€Œä¸æ˜¯ç¼–è¯‘æ—¶çš„é™æ€ç±»å‹ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;Base::func()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;Derived::func()&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Base* b = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">b-&gt;<span class="built_in">func</span>();  <span class="comment">// è¾“å‡º &quot;Derived::func()&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>func</code>åœ¨åŸºç±»ä¸­è¢«å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œå› æ­¤åœ¨æ´¾ç”Ÿç±»ä¸­å¯¹å®ƒçš„é‡å†™ä»ç„¶æ˜¯è™šå‡½æ•°ï¼Œå¹¶ä¼šåœ¨è¿è¡Œæ—¶è°ƒç”¨æ´¾ç”Ÿç±»çš„å®ç°ã€‚</li>
</ul>
<p><strong>2. è™šå‡½æ•°çš„é™åˆ¶</strong></p>
<p><strong>ï¼ˆ1ï¼‰åªæœ‰ç±»çš„æˆå‘˜å‡½æ•°æ‰èƒ½æ˜¯è™šå‡½æ•°</strong></p>
<ul>
<li>éæˆå‘˜å‡½æ•°ï¼ˆå¦‚å…¨å±€å‡½æ•°æˆ–æ™®é€šéæˆå‘˜å‡½æ•°ï¼‰ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°</strong></p>
<ul>
<li>åŸå› ï¼šé™æ€æˆå‘˜å‡½æ•°ä¸å…·ä½“çš„å¯¹è±¡æ— å…³ï¼Œå®ƒä»¬å±äºæ•´ä¸ªç±»ï¼Œè€Œè™šå‡½æ•°ä¾èµ–äºå¯¹è±¡çš„åŠ¨æ€ç±»å‹æ¥å®ç°åŠ¨æ€ç»‘å®šã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span></span>;  <span class="comment">// âŒ ä¸åˆæ³•ï¼Œç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>ï¼ˆ3ï¼‰å†…è”æˆå‘˜å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°</strong></p>
<ul>
<li><strong>å†…è”å‡½æ•°</strong>æ˜¯å»ºè®®ç¼–è¯‘å™¨å°†å…¶æ›¿æ¢ä¸ºå‡½æ•°ä½“ä»£ç ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚è€Œ<strong>è™šå‡½æ•°</strong>éœ€è¦é€šè¿‡è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰åŠ¨æ€æŸ¥æ‰¾ï¼Œæ— æ³•åšåˆ°å†…è”åŒ–ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>&#123;&#125;  <span class="comment">// âŒ å†…è”å’Œè™šå‡½æ•°æœºåˆ¶å†²çª</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>ï¼ˆ4ï¼‰æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°</strong></p>
<ul>
<li>æ„é€ å‡½æ•°åœ¨åˆ›å»ºå¯¹è±¡æ—¶è¢«è°ƒç”¨ï¼Œè€Œè™šå‡½æ•°ä¾èµ–äºå¯¹è±¡çš„åŠ¨æ€ç±»å‹ã€‚ç”±äºæ„é€ å‡½æ•°åœ¨å¯¹è±¡åˆ›å»ºè¿‡ç¨‹ä¸­è°ƒç”¨ï¼ŒåŠ¨æ€ç±»å‹å°šæœªç¡®å®šï¼Œå› æ­¤æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="title">A</span><span class="params">()</span></span>;  <span class="comment">// âŒ ä¸åˆæ³•ï¼Œæ„é€ å‡½æ•°ä¸èƒ½ä¸ºè™šå‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>ï¼ˆ5ï¼‰ææ„å‡½æ•°å¯ä»¥æ˜¯è™šå‡½æ•°</strong></p>
<ul>
<li>ææ„å‡½æ•°è¢«è®¾è®¡ä¸ºè™šå‡½æ•°çš„åŸå› åœ¨äºï¼Œå½“<strong>é€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œç¡®ä¿è°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä»¥é‡Šæ”¾æ´¾ç”Ÿç±»èµ„æº</strong>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Base</span>() &#123; cout &lt;&lt; <span class="string">&quot;Base Destructor&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ~<span class="built_in">Derived</span>() &#123; cout &lt;&lt; <span class="string">&quot;Derived Destructor&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Base* b = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line"><span class="keyword">delete</span> b;  <span class="comment">// ç¡®ä¿å…ˆè°ƒç”¨ Derived çš„ææ„å‡½æ•°ï¼Œå†è°ƒç”¨ Base çš„ææ„å‡½æ•°</span></span><br></pre></td></tr></table></figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221000805858.png" class="" title="image-20241221000805858">
<p><strong>1. èƒŒæ™¯çŸ¥è¯†ï¼šåæœŸç»‘å®šï¼ˆLate Bindingï¼‰</strong></p>
<ul>
<li><strong>åæœŸç»‘å®š</strong>çš„å®šä¹‰ï¼šåœ¨è¿è¡Œæ—¶å†³å®šè°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶ã€‚</li>
<li>åœ¨C++ä¸­ï¼Œå¦‚æœç±»ä¸­åŒ…å«è™šå‡½æ•°ï¼ˆ<code>virtual</code>ä¿®é¥°ï¼‰ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼ˆ<strong>vtable</strong>ï¼‰ã€‚</li>
<li>æ¯ä¸ªå¯¹è±¡å†…éƒ¨ä¼šæœ‰ä¸€ä¸ªéšè—çš„æŒ‡é’ˆï¼ˆ<strong>vptr</strong>ï¼‰ï¼ŒæŒ‡å‘å®ƒå¯¹åº”çš„è™šå‡½æ•°è¡¨ã€‚</li>
</ul>
<p><strong>2. è™šå‡½æ•°è¡¨çš„å®ç°æœºåˆ¶</strong></p>
<p>è™šå‡½æ•°è¡¨çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<ol>
<li>è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰ï¼š
<ul>
<li>æ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»éƒ½æœ‰ä¸€å¼ è™šå‡½æ•°è¡¨ã€‚</li>
<li>è¡¨ä¸­å­˜å‚¨äº†è¯¥ç±»çš„æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ï¼ˆå‡½æ•°æŒ‡é’ˆï¼‰ã€‚</li>
<li>å¦‚æœæ´¾ç”Ÿç±»é‡å†™äº†åŸºç±»çš„è™šå‡½æ•°ï¼Œè™šå‡½æ•°è¡¨ä¸­å¯¹åº”çš„åœ°å€ä¼šè¢«æ´¾ç”Ÿç±»å‡½æ•°è¦†ç›–ã€‚</li>
</ul>
</li>
<li>è™šæŒ‡é’ˆï¼ˆvptrï¼‰ï¼š
<ul>
<li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªéšè—çš„æŒ‡é’ˆï¼Œç§°ä¸ºè™šæŒ‡é’ˆï¼ˆ<code>vptr</code>ï¼‰ã€‚</li>
<li><code>vptr</code>æŒ‡å‘è¯¥å¯¹è±¡æ‰€å±ç±»çš„è™šå‡½æ•°è¡¨ï¼ˆ<code>vtable</code>ï¼‰ã€‚</li>
<li>è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œé€šè¿‡<code>vptr</code>è®¿é—®è™šå‡½æ•°è¡¨ï¼Œä»è€Œå®ç°åŠ¨æ€ç»‘å®šã€‚</li>
</ul>
</li>
</ol>
<p><strong>3. ä»£ç è§£æ</strong></p>
<p><strong>ç±»å®šä¹‰</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;   <span class="comment">// è™šå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">g</span><span class="params">()</span></span>;   <span class="comment">// è™šå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">h</span><span class="params">()</span></span>;           <span class="comment">// éè™šå‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line">    <span class="type">int</span> z;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;           <span class="comment">// é‡å†™ A çš„è™šå‡½æ•° f</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">h</span><span class="params">()</span></span>;           <span class="comment">// éšè— A çš„éè™šå‡½æ•° h</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>å¯¹è±¡å’ŒæŒ‡é’ˆ</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A a;    <span class="comment">// å®šä¹‰ A ç±»å¯¹è±¡</span></span><br><span class="line">B b;    <span class="comment">// å®šä¹‰ B ç±»å¯¹è±¡</span></span><br><span class="line">A* p;   <span class="comment">// å®šä¹‰åŸºç±»æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>
<p><strong>4. è™šå‡½æ•°è¡¨çš„å·¥ä½œæµç¨‹</strong></p>
<p><strong>è™šå‡½æ•°è¡¨çš„ç»“æ„</strong></p>
<ol>
<li>
<p>å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a</span><br></pre></td></tr></table></figure>
<p>æ˜¯ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A</span><br></pre></td></tr></table></figure>
<p>çš„å®ä¾‹ï¼š</p>
<ul>
<li>å†…éƒ¨åŒ…å«ä¸€ä¸ª <code>vptr</code>ï¼ŒæŒ‡å‘ç±» <code>A</code> çš„è™šå‡½æ•°è¡¨ï¼ˆ<code>A_vtable</code>ï¼‰ã€‚</li>
<li><code>A_vtable</code> åŒ…å«ä¸¤ä¸ªè™šå‡½æ•°çš„åœ°å€ï¼š<code>A::f</code> å’Œ <code>A::g</code>ã€‚</li>
</ul>
</li>
<li>
<p>å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b</span><br></pre></td></tr></table></figure>
<p>æ˜¯ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B</span><br></pre></td></tr></table></figure>
<p>çš„å®ä¾‹ï¼š</p>
<ul>
<li>å†…éƒ¨åŒæ ·åŒ…å«ä¸€ä¸ª <code>vptr</code>ï¼Œä½†æŒ‡å‘çš„æ˜¯ç±» <code>B</code> çš„è™šå‡½æ•°è¡¨ï¼ˆ<code>B_vtable</code>ï¼‰ã€‚</li>
<li><code>B_vtable</code> ä¸­ï¼Œ<code>f</code> æŒ‡å‘ <code>B::f</code>ï¼ˆè¦†ç›–äº† <code>A::f</code>ï¼‰ï¼Œ<strong>è€Œ <code>g</code> ä»ç„¶æŒ‡å‘ <code>A::g</code></strong>ã€‚</li>
</ul>
</li>
</ol>
<p><strong>å‡½æ•°è°ƒç”¨ç¤ºä¾‹</strong></p>
<ol>
<li><strong>Case 1: <code>p = &amp;a;</code></strong>
<ul>
<li><code>p</code> æŒ‡å‘å¯¹è±¡ <code>a</code>ï¼Œå³ <code>A</code> ç±»å‹çš„å®ä¾‹ã€‚</li>
<li><code>p-&gt;f()</code> ä¼šé€šè¿‡ <code>vptr</code> æ‰¾åˆ° <code>A_vtable</code> ä¸­çš„ <code>A::f</code>ï¼Œè°ƒç”¨ <code>A::f()</code>ã€‚</li>
<li><strong>è™šå‡½æ•°çš„ç»‘å®šå‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼Œç”±<code>vptr</code>æŒ‡å‘çš„è™šå‡½æ•°è¡¨å†³å®šã€‚</strong></li>
</ul>
</li>
<li><strong>Case 2: <code>p = &amp;b;</code></strong>
<ul>
<li><code>p</code> æŒ‡å‘å¯¹è±¡ <code>b</code>ï¼Œå³ <code>B</code> ç±»å‹çš„å®ä¾‹ã€‚</li>
<li>è™½ç„¶ <code>p</code> æ˜¯ <code>A*</code> ç±»å‹ï¼Œä½†ç”±äºå¯¹è±¡å®é™…ç±»å‹æ˜¯ <code>B</code>ï¼Œ<code>p-&gt;f()</code> ä¼šé€šè¿‡ <code>vptr</code> æ‰¾åˆ° <code>B_vtable</code> ä¸­çš„ <code>B::f</code>ï¼Œè°ƒç”¨ <code>B::f()</code>ã€‚</li>
</ul>
</li>
</ol>
<p><strong>5. é‡è¦ç»†èŠ‚</strong></p>
<ol>
<li><strong>éè™šå‡½æ•°çš„è°ƒç”¨</strong>
<ul>
<li><strong>éè™šå‡½æ•°ï¼ˆå¦‚ <code>h()</code>ï¼‰ç›´æ¥é€šè¿‡é™æ€ç»‘å®š</strong>ï¼ˆæ—©æœŸç»‘å®šï¼‰æœºåˆ¶è°ƒç”¨ã€‚</li>
<li>å³ä¾¿é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨ï¼Œä¹Ÿ<strong>ä¸ä¼šè¿›å…¥è™šå‡½æ•°è¡¨</strong>ã€‚</li>
</ul>
</li>
<li><strong>å†…å­˜å¸ƒå±€</strong>
<ul>
<li>æ¯ä¸ª<strong>å¯¹è±¡çš„å†…å­˜ç»“æ„</strong>ä¸­ä¼šåŒ…å«ï¼š
<ul>
<li>æˆå‘˜å˜é‡ï¼ˆå¦‚ <code>x</code>, <code>y</code>, <code>z</code>ï¼‰ã€‚</li>
<li><strong>ä¸€ä¸ªéšå¼çš„è™šæŒ‡é’ˆï¼ˆ<code>vptr</code>ï¼‰ï¼ŒæŒ‡å‘è™šå‡½æ•°è¡¨</strong>ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>è™šå‡½æ•°è¡¨çš„åç§»é‡</strong>
<ul>
<li>é€šè¿‡ <code>vptr</code> å®šä½è™šå‡½æ•°è¡¨åï¼Œæ ¹æ®å‡½æ•°åœ¨è¡¨ä¸­çš„ä½ç½®ï¼ˆåç§»é‡ï¼‰æ‰¾åˆ°å‡½æ•°åœ°å€ï¼Œå¹¶è°ƒç”¨è¯¥å‡½æ•°ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼šä¼ªä»£ç æ¨¡æ‹Ÿè°ƒç”¨è¿‡ç¨‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¡¨ç¤ºè™šæŒ‡é’ˆåç§»é‡ -4</span></span><br><span class="line">(**((<span class="type">char</span>*)p - <span class="number">4</span>)) (p); <span class="comment">// å®é™…è°ƒç”¨è™šå‡½æ•°çš„è¿‡ç¨‹</span></span><br></pre></td></tr></table></figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221001248854.png" class="" title="image-20241221001248854">
<p><strong>1. è™šå‡½æ•°çš„åŠ¨æ€ç»‘å®šä¸å¤šæ€æ€§</strong></p>
<p><strong>ä»£ç åˆ†æ</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>() &#123; <span class="built_in">f</span>(); &#125;            <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;       <span class="comment">// è™šå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span></span>;               <span class="comment">// æ™®é€šæˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">h</span><span class="params">()</span> </span>&#123; <span class="built_in">f</span>(); <span class="built_in">g</span>(); &#125;  <span class="comment">// æ··åˆè°ƒç”¨è™šå‡½æ•°å’Œæ™®é€šæˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;               <span class="comment">// é‡å†™åŸºç±»è™šå‡½æ•° f</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span></span>;               <span class="comment">// æ™®é€šæˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>æ„é€ å’Œå‡½æ•°è°ƒç”¨é¡ºåº</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">B b;     <span class="comment">// A::A(), A::f, B::B()</span></span><br><span class="line">A* p = &amp;b;</span><br><span class="line"></span><br><span class="line">p-&gt;<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨B::fï¼Œå› ä¸ºfæ˜¯è™šå‡½æ•°</span></span><br><span class="line">p-&gt;<span class="built_in">g</span>();  <span class="comment">// è°ƒç”¨A::gï¼Œå› ä¸ºgæ˜¯æ™®é€šæˆå‘˜å‡½æ•°</span></span><br><span class="line">p-&gt;<span class="built_in">h</span>();  <span class="comment">// æ··åˆè°ƒç”¨è™šå‡½æ•°å’Œæ™®é€šå‡½æ•°ï¼Œå…·ä½“è°ƒç”¨ç»†èŠ‚è§£é‡Šå¦‚ä¸‹</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºï¼š
<ul>
<li>åŸºç±»çš„æ„é€ å‡½æ•°å…ˆæ‰§è¡Œï¼Œç„¶åå†æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ã€‚</li>
<li><strong>åœ¨åŸºç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼ŒåŠ¨æ€ç»‘å®šæœºåˆ¶è¢«â€œéƒ¨åˆ†ç¦ç”¨â€ï¼Œæ­¤æ—¶å¯¹è±¡çš„ç±»å‹ä»ç„¶æ˜¯åŸºç±»ã€‚</strong></li>
<li>å½“åŸºç±»çš„æ„é€ å‡½æ•°å®Œæˆåï¼Œè™šæŒ‡é’ˆï¼ˆvptrï¼‰æ‰è¢«åˆå§‹åŒ–ä¸ºæ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. å…³é”®ç‚¹è§£é‡Š</strong></p>
<p><strong>æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°</strong></p>
<ul>
<li>è¯­å¥ <code>A() &#123; f(); &#125;</code>ï¼š
<ul>
<li>åœ¨åŸºç±»<strong>æ„é€ å‡½æ•°ä¸­ï¼Œè°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè°ƒç”¨çš„æ˜¯åŸºç±»çš„å®ç°</strong>ï¼Œè€Œä¸æ˜¯æ´¾ç”Ÿç±»çš„é‡å†™ç‰ˆæœ¬ã€‚</li>
<li>åŸå› æ˜¯ï¼š<strong>æ„é€ å‡½æ•°æ‰§è¡Œæ—¶ï¼Œå¯¹è±¡å°šæœªå®Œå…¨åˆå§‹åŒ–ï¼Œå…¶åŠ¨æ€ç±»å‹ä»è¢«è®¤ä¸ºæ˜¯åŸºç±»ç±»å‹</strong>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å¤šæ€è¡Œä¸ºå’ŒåŠ¨æ€ç»‘å®š</strong></p>
<ul>
<li><code>p-&gt;f()</code>ï¼š
<ul>
<li>è™šå‡½æ•° <code>f</code> çš„è°ƒç”¨é€šè¿‡åŠ¨æ€ç»‘å®šï¼Œæ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹å†³å®šè°ƒç”¨å“ªä¸ªå®ç°ã€‚</li>
<li>è¿™é‡Œ <code>p</code> æŒ‡å‘ä¸€ä¸ª <code>B</code> ç±»å‹çš„å¯¹è±¡ï¼Œå› æ­¤è°ƒç”¨çš„æ˜¯ <code>B::f</code>ã€‚</li>
</ul>
</li>
<li><code>p-&gt;g()</code>ï¼š
<ul>
<li><code>g</code> æ˜¯æ™®é€šæˆå‘˜å‡½æ•°ï¼ˆéè™šå‡½æ•°ï¼‰ï¼Œé‡‡ç”¨æ—©æœŸç»‘å®šï¼ˆé™æ€ç»‘å®šï¼‰ã€‚</li>
<li>å› æ­¤ï¼Œæ— è®º <code>p</code> çš„åŠ¨æ€ç±»å‹å¦‚ä½•ï¼Œè°ƒç”¨çš„éƒ½æ˜¯ <code>A::g</code>ã€‚</li>
</ul>
</li>
<li><code>p-&gt;h()</code>ï¼š
<ul>
<li><code>h</code> æ˜¯åŸºç±»ä¸­çš„æ™®é€šæˆå‘˜å‡½æ•°ã€‚</li>
<li>åœ¨ <code>h</code> ä¸­è°ƒç”¨ <code>f</code> å’Œ <code>g</code> æ—¶ï¼š
<ul>
<li><code>f()</code> æ˜¯è™šå‡½æ•°ï¼Œè°ƒç”¨çš„æ˜¯ <code>B::f</code>ã€‚</li>
<li><code>g()</code> æ˜¯æ™®é€šå‡½æ•°ï¼Œè°ƒç”¨çš„æ˜¯ <code>A::g</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>==<strong>3. ç‰¹æ®Šè¡Œä¸ºï¼š<code>this</code> æŒ‡é’ˆ</strong>===</p>
<p>åœ¨<strong>æ´¾ç”Ÿç±»é‡å†™çš„è™šå‡½æ•°ä¸­ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹ä¸º <code>B* const</code></strong>ï¼Œå®ƒæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æœ¬èº«ã€‚</p>
<p><strong>ä»£ç è§£é‡Š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;<span class="built_in">g</span>();  <span class="comment">// è°ƒç”¨ B::g()</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œå…·ä½“é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨ <code>B::f</code> ä¸­ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹ä¸º <code>B* const</code>ï¼ŒæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</li>
<li><code>this-&gt;g()</code> çš„è§£æåŸºäºé™æ€ç»‘å®šï¼Œå› æ­¤ä¼šè°ƒç”¨ <code>B::g</code>ã€‚</li>
</ul>
<p><strong>4. PPTä¸­çš„è°ƒç”¨è¡Œä¸ºåˆ†æ</strong></p>
<p><strong>å…³é”®ä»£ç ä¸è¡Œä¸º</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">B b;</span><br><span class="line">A* p = &amp;b;</span><br><span class="line">p-&gt;<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨B::f</span></span><br><span class="line">p-&gt;<span class="built_in">g</span>();  <span class="comment">// è°ƒç”¨A::g</span></span><br><span class="line">p-&gt;<span class="built_in">h</span>();  <span class="comment">// è°ƒç”¨A::hï¼Œä½†A::hä¸­è°ƒç”¨äº†B::få’ŒA::g</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>p-&gt;f()</code></strong>ï¼š
<ul>
<li>è™šå‡½æ•°ï¼Œé€šè¿‡åŠ¨æ€ç»‘å®šè°ƒç”¨ <code>B::f</code>ã€‚</li>
<li>åœ¨ <code>B::f</code> ä¸­ï¼Œè¿›ä¸€æ­¥è°ƒç”¨ <code>B::g</code>ã€‚</li>
</ul>
</li>
<li><strong><code>p-&gt;g()</code></strong>ï¼š
<ul>
<li>æ™®é€šæˆå‘˜å‡½æ•°ï¼Œé™æ€ç»‘å®šï¼Œè°ƒç”¨ <code>A::g</code>ã€‚</li>
</ul>
</li>
<li><strong><code>p-&gt;h()</code></strong>ï¼š
<ul>
<li>æ™®é€šæˆå‘˜å‡½æ•°ï¼Œè°ƒç”¨ <code>A::h</code>ã€‚</li>
<li>åœ¨ <code>A::h</code> å†…éƒ¨ï¼š
<ul>
<li><code>f()</code> æ˜¯è™šå‡½æ•°ï¼Œé€šè¿‡åŠ¨æ€ç»‘å®šè°ƒç”¨ <code>B::f</code>ã€‚</li>
<li><code>g()</code> æ˜¯æ™®é€šå‡½æ•°ï¼Œé™æ€ç»‘å®šï¼Œè°ƒç”¨ <code>A::g</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="final-override">final, override</h3>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221002332226.png" class="" title="image-20241221002332226">
<p><strong>1. ä»£ç è§£æä¸æ¦‚å¿µ</strong></p>
<p><strong>åŸºç±» B çš„å®šä¹‰</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f1</span><span class="params">(<span class="type">int</span>)</span> <span class="type">const</span></span>;   <span class="comment">// è™šå‡½æ•°ï¼Œå¸¦å‚æ•° int å’Œ const é™å®šç¬¦</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f2</span><span class="params">()</span></span>;           <span class="comment">// æ™®é€šè™šå‡½æ•°ï¼Œæ— å‚æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f3</span><span class="params">()</span></span>;                   <span class="comment">// æ™®é€šæˆå‘˜å‡½æ•°ï¼ˆéè™šå‡½æ•°ï¼‰</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f5</span><span class="params">(<span class="type">int</span>)</span> <span class="keyword">final</span></span>;  <span class="comment">// è™šå‡½æ•°ï¼Œå¸¦ final é™å®šç¬¦ï¼Œä¸èƒ½å†è¢«æ´¾ç”Ÿç±»é‡å†™</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>virtual</code></strong>ï¼šè™šå‡½æ•°ï¼Œæ”¯æŒåŠ¨æ€ç»‘å®šï¼Œæ´¾ç”Ÿç±»å¯ä»¥é‡å†™ã€‚</li>
<li><strong><code>final</code></strong>ï¼šæ ‡è®°<strong>å‡½æ•°ä¸èƒ½è¢«è¿›ä¸€æ­¥é‡å†™</strong>ã€‚</li>
<li><strong>éè™šå‡½æ•°</strong>ï¼šå¦‚ <code>f3</code>ï¼Œåªèƒ½é™æ€ç»‘å®šï¼Œä¸èƒ½é€šè¿‡<code>override</code>é‡å†™ã€‚</li>
</ul>
<p><strong>æ´¾ç”Ÿç±» D çš„å®šä¹‰</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">D</span> : B &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f1</span><span class="params">(<span class="type">int</span>)</span> <span class="type">const</span> <span class="keyword">override</span></span>; <span class="comment">// æ­£ç¡®ï¼Œå®Œå…¨åŒ¹é…åŸºç±» f1 çš„ç­¾å</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f2</span><span class="params">(<span class="type">int</span>)</span> <span class="keyword">override</span></span>;       <span class="comment">// é”™è¯¯ï¼ŒåŸºç±»æ²¡æœ‰ f2(int) è¿™æ ·çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f3</span><span class="params">()</span> <span class="keyword">override</span></span>;          <span class="comment">// é”™è¯¯ï¼Œf3 ä¸æ˜¯è™šå‡½æ•°ï¼Œä¸èƒ½é‡å†™</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f4</span><span class="params">()</span> <span class="keyword">override</span></span>;          <span class="comment">// é”™è¯¯ï¼ŒåŸºç±»æ²¡æœ‰ f4 è¿™æ ·çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f5</span><span class="params">(<span class="type">int</span>)</span></span>;                <span class="comment">// é”™è¯¯ï¼ŒåŸºç±»çš„ f5 è¢«å£°æ˜ä¸º finalï¼Œç¦æ­¢é‡å†™</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>2. <code>override</code> å’Œ <code>final</code> çš„ä½œç”¨</strong></p>
<p><strong><code>override</code></strong></p>
<ul>
<li>å®šä¹‰ï¼š
<ul>
<li>æ˜ç¡®æŒ‡å®šæ´¾ç”Ÿç±»çš„å‡½æ•°æ˜¯ç”¨æ¥é‡å†™åŸºç±»çš„è™šå‡½æ•°ã€‚</li>
<li>ç¼–è¯‘å™¨ä¼šæ£€æŸ¥å‡½æ•°ç­¾åæ˜¯å¦å’ŒåŸºç±»è™šå‡½æ•°å®Œå…¨ä¸€è‡´ã€‚</li>
</ul>
</li>
<li>ä½œç”¨ï¼š
<ul>
<li>æé«˜ä»£ç å¯è¯»æ€§å’Œå®‰å…¨æ€§ï¼Œé¿å…å› å‡½æ•°ç­¾åä¸åŒ¹é…å¯¼è‡´çš„é”™è¯¯ã€‚</li>
<li>é¿å…æ— æ„ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ˆä¸æ˜¯é‡å†™åŸºç±»çš„å‡½æ•°ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong><code>final</code></strong></p>
<ul>
<li>å®šä¹‰ï¼š
<ul>
<li><strong>ç¦æ­¢æ´¾ç”Ÿç±»è¿›ä¸€æ­¥é‡å†™æŸä¸ªè™šå‡½æ•°ã€‚</strong></li>
<li>å¦‚æœæ´¾ç”Ÿç±»å°è¯•é‡å†™æ ‡è®°ä¸º<code>final</code>çš„è™šå‡½æ•°ï¼Œç¼–è¯‘å™¨æŠ¥é”™ã€‚</li>
</ul>
</li>
<li>ä½œç”¨ï¼š
<ul>
<li>æä¾›æ˜ç¡®çš„é™åˆ¶ï¼Œé˜²æ­¢è™šå‡½æ•°è¢«æ„å¤–é‡å†™ã€‚</li>
<li>å¸¸ç”¨äºè®¾è®¡ä¸­ï¼Œéœ€è¦ç¡®ä¿æŸäº›å‡½æ•°çš„è¡Œä¸ºåœ¨æ´¾ç”Ÿç±»ä¸­ä¿æŒä¸å˜ã€‚</li>
</ul>
</li>
</ul>
<p><strong>4. æ€»ç»“</strong></p>
<table>
<thead>
<tr>
<th><strong>å…³é”®è¯</strong></th>
<th><strong>ä½œç”¨</strong></th>
<th><strong>ä½¿ç”¨åœºæ™¯</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>virtual</code></td>
<td>å®šä¹‰è™šå‡½æ•°ï¼Œæ”¯æŒåŠ¨æ€ç»‘å®š</td>
<td>å…è®¸æ´¾ç”Ÿç±»é‡å†™åŸºç±»çš„å‡½æ•°</td>
</tr>
<tr>
<td><code>override</code></td>
<td>æ˜ç¡®è¡¨ç¤ºå‡½æ•°æ˜¯é‡å†™åŸºç±»çš„è™šå‡½æ•°</td>
<td>é˜²æ­¢æ´¾ç”Ÿç±»å‡½æ•°ç­¾åä¸åŸºç±»ä¸åŒ¹é…è€Œå¼•å‘éšå¼é”™è¯¯</td>
</tr>
<tr>
<td><code>final</code></td>
<td>ç¦æ­¢æ´¾ç”Ÿç±»è¿›ä¸€æ­¥é‡å†™æŸä¸ªè™šå‡½æ•°</td>
<td>ç¡®ä¿æŸäº›å‡½æ•°çš„è¡Œä¸ºåœ¨ç»§æ‰¿ä½“ç³»ä¸­ä¿æŒä¸å˜ï¼Œé˜²æ­¢è¯¯é‡å†™</td>
</tr>
</tbody>
</table>
<h3 id="çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»">çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»</h3>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221002725340.png" class="" title="image-20241221002725340">
<p><strong>1. çº¯è™šå‡½æ•°</strong></p>
<p>å®šä¹‰ï¼š</p>
<ul>
<li>
<p><strong>çº¯è™šå‡½æ•°</strong>æ˜¯æŒ‡åœ¨ç±»ä¸­å£°æ˜ä¸º<code>= 0</code>çš„è™šå‡½æ•°ã€‚</p>
</li>
<li>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">virtual</span> è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°åˆ—è¡¨) = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ol>
<li><strong>å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™ï¼š</strong>
<ul>
<li>å¦‚æœæ´¾ç”Ÿç±»æ²¡æœ‰é‡å†™çº¯è™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»æœ¬èº«ä¹Ÿä¼šå˜æˆæŠ½è±¡ç±»ï¼ˆå³æ— æ³•å®ä¾‹åŒ–ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p><strong>2. æŠ½è±¡ç±»</strong></p>
<p>å®šä¹‰ï¼š</p>
<ul>
<li>
<p><strong>æŠ½è±¡ç±»</strong>æ˜¯æŒ‡<strong>è‡³å°‘åŒ…å«ä¸€ä¸ªçº¯è™šå‡½æ•°</strong>çš„ç±»ã€‚</p>
</li>
<li>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>= <span class="number">0</span>;  <span class="comment">// çº¯è™šå‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>ä¸èƒ½å®ä¾‹åŒ–ï¼š</strong></p>
<ul>
<li>
<p>æŠ½è±¡ç±»æ— æ³•ç›´æ¥åˆ›å»ºå¯¹è±¡ã€‚</p>
</li>
<li>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AbstractClass obj;  <span class="comment">// é”™è¯¯ï¼ŒæŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><strong>å¯ä»¥å®šä¹‰æ„é€ å‡½æ•°å’Œæˆå‘˜å˜é‡ï¼š</strong></p>
<ul>
<li>æŠ½è±¡ç±»<strong>å¯ä»¥æœ‰æ„é€ å‡½æ•°</strong>ï¼Œä½†åªèƒ½è¢«æ´¾ç”Ÿç±»è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ã€‚</li>
<li>æŠ½è±¡ç±»ä¹Ÿå¯ä»¥åŒ…å«éçº¯è™šå‡½æ•°å’Œæ™®é€šæˆå‘˜å˜é‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸ºæ´¾ç”Ÿç±»æä¾›æ¡†æ¶ï¼š</strong></p>
<ul>
<li>
<p>æŠ½è±¡ç±»çš„ä½œç”¨æ˜¯å®šä¹‰æ¥å£å’Œè¡Œä¸ºæ¡†æ¶ï¼Œè®©æ´¾ç”Ÿç±»æ ¹æ®éœ€è¦å®ç°å…·ä½“åŠŸèƒ½ã€‚</p>
</li>
<li>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">draw</span><span class="params">()</span> </span>= <span class="number">0</span>;  <span class="comment">// çº¯è™šå‡½æ•°</span></span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Shape</span>() &#123;&#125;      <span class="comment">// è™šææ„å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> : <span class="keyword">public</span> Shape &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®ç°åœ†çš„ç»˜åˆ¶</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><strong>æ´¾ç”Ÿç±»å¿…é¡»å®ç°æ‰€æœ‰çº¯è™šå‡½æ•°ï¼š</strong></p>
<ul>
<li>å¦åˆ™ï¼Œæ´¾ç”Ÿç±»ä¹Ÿä¼šæˆä¸ºæŠ½è±¡ç±»ã€‚</li>
</ul>
</li>
</ol>
<p><strong>3. çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»çš„å…³ç³»</strong></p>
<ul>
<li>
<p>å¦‚æœä¸€ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¯è™šå‡½æ•°ï¼Œåˆ™è¯¥ç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»ã€‚</p>
</li>
<li>
<p>æŠ½è±¡ç±»å¯ä»¥åŒ…å«éçº¯è™šå‡½æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span> </span>= <span class="number">0</span>;  <span class="comment">// çº¯è™šå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">nonVirtualFunc</span><span class="params">()</span> </span>&#123; <span class="comment">/* æ™®é€šå‡½æ•°å®ç° */</span> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>4. å†…éƒ¨æœºåˆ¶ï¼š_pure_virtual_called</strong></p>
<ul>
<li>â€œMeans â€˜not thereâ€™â€ï¼š
<ul>
<li>è¡¨ç¤ºçº¯è™šå‡½æ•°åœ¨åŸºç±»ä¸­æ²¡æœ‰å®ç°ï¼Œæ´¾ç”Ÿç±»å¿…é¡»æä¾›å…·ä½“å®ç°ã€‚</li>
</ul>
</li>
<li><code>_pure_virtual_called</code>ï¼š
<ul>
<li>å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶è°ƒç”¨äº†ä¸€ä¸ªæœªè¢«å®ç°çš„çº¯è™šå‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œæ´¾ç”Ÿç±»æ²¡æœ‰é‡å†™çº¯è™šå‡½æ•°ï¼‰ï¼Œç¨‹åºä¼šæŠ›å‡º<code>_pure_virtual_called</code>é”™è¯¯ã€‚</li>
</ul>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221003131430.png" class="" title="image-20241221003131430">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221003159161.png" class="" title="image-20241221003159161">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221003244928.png" class="" title="image-20241221003244928">
<ul>
<li><strong>åå˜è¿”å›ç±»å‹çš„è§„åˆ™</strong></li>
<li>å¦‚æœå­ç±»é‡å†™çˆ¶ç±»çš„è™šå‡½æ•°ï¼Œ<strong>è¿”å›å€¼å¯ä»¥æ˜¯çˆ¶ç±»è™šå‡½æ•°è¿”å›ç±»å‹çš„æ´¾ç”Ÿç±»</strong>ã€‚</li>
<li>åå˜è¿”å›ç±»å‹ä»…é€‚ç”¨äº<strong>æŒ‡é’ˆ</strong>æˆ–<strong>å¼•ç”¨</strong>ç±»å‹ï¼Œè€Œä¸é€‚ç”¨äºæ™®é€šå€¼ç±»å‹ã€‚</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221003525976.png" class="" title="image-20241221003525976">
<h3 id="è™šææ„å‡½æ•°">è™šææ„å‡½æ•°</h3>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221003538967.png" class="" title="image-20241221003538967">
<p><strong>1. é—®é¢˜èƒŒæ™¯</strong></p>
<p><strong>ä»£ç æƒ…æ™¯</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123; ... &#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B &#123; ... &#125;;</span><br><span class="line"></span><br><span class="line">B* p = <span class="keyword">new</span> D;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>p</code> æ˜¯åŸºç±» <code>B</code> çš„æŒ‡é’ˆï¼ŒæŒ‡å‘äº†æ´¾ç”Ÿç±» <code>D</code> çš„å¯¹è±¡ã€‚</li>
<li>ä½¿ç”¨ <code>delete p;</code> æ¥åˆ é™¤å¯¹è±¡æ—¶ï¼Œè¡Œä¸ºå¯èƒ½å‡ºé—®é¢˜ã€‚</li>
</ul>
<p><strong>2. è™šææ„å‡½æ•°çš„ä½œç”¨</strong></p>
<p>è™šææ„å‡½æ•°çš„ä½œç”¨æ˜¯ç¡®ä¿å½“ä½¿ç”¨åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œèƒ½å¤Ÿæ­£ç¡®è°ƒç”¨æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ææ„å‡½æ•°ã€‚</p>
<p><strong>æœªä½¿ç”¨è™šææ„å‡½æ•°æ—¶çš„é—®é¢˜</strong></p>
<ul>
<li>å¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>delete p;</code> æ—¶ï¼Œåªä¼šè°ƒç”¨<strong>åŸºç±»çš„ææ„å‡½æ•°</strong>ï¼Œä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ã€‚</li>
<li>è¿™ä¼šå¯¼è‡´ï¼š
<ul>
<li>æ´¾ç”Ÿç±»ä¸­çš„èµ„æºæœªè¢«æ­£ç¡®é‡Šæ”¾ï¼ˆä¾‹å¦‚å †å†…å­˜ï¼‰ã€‚</li>
<li>å¯èƒ½é€ æˆå†…å­˜æ³„æ¼æˆ–æœªå®šä¹‰è¡Œä¸ºã€‚</li>
</ul>
</li>
</ul>
<p><strong>è™šææ„å‡½æ•°çš„å®šä¹‰</strong></p>
<p>åœ¨åŸºç±»ä¸­å°†ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">B</span>() &#123; ... &#125;  <span class="comment">// è™šææ„å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>å½“ <code>delete p;</code> è¢«æ‰§è¡Œæ—¶ï¼Œè™šå‡½æ•°æœºåˆ¶ä¼šç¡®ä¿æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°è¢«è°ƒç”¨ï¼Œç„¶åå†è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ã€‚</li>
</ul>
<p><strong>æ­£ç¡®è°ƒç”¨é“¾</strong></p>
<ul>
<li>
<p>ä½¿ç”¨è™šææ„å‡½æ•°åï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete p;</span><br></pre></td></tr></table></figure>
<p>å°†æŒ‰ç…§å¦‚ä¸‹é¡ºåºè°ƒç”¨ï¼š</p>
<ul>
<li>è°ƒç”¨æ´¾ç”Ÿç±» <code>D</code> çš„ææ„å‡½æ•°ã€‚</li>
<li>è°ƒç”¨åŸºç±» <code>B</code> çš„ææ„å‡½æ•°ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. PPTç¬¬ä¸€éƒ¨åˆ†åˆ†æ</strong></p>
<p><strong>ä»£ç </strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123; ... &#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B &#123; ... &#125;;</span><br><span class="line"></span><br><span class="line">B* p = <span class="keyword">new</span> D;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ</strong></p>
<ol>
<li>
<p>å¦‚æœ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B</span><br></pre></td></tr></table></figure>
<p>çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œåˆ™ï¼š</p>
<ul>
<li>åªä¼šè°ƒç”¨ <code>B</code> çš„ææ„å‡½æ•°ã€‚</li>
<li><code>D</code> çš„ææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
<li>æ´¾ç”Ÿç±» <code>D</code> ä¸­å¯èƒ½åŠ¨æ€åˆ†é…çš„èµ„æºæ— æ³•è¢«é‡Šæ”¾ã€‚</li>
</ul>
</li>
<li>
<p>å¦‚æœ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B</span><br></pre></td></tr></table></figure>
<p>çš„ææ„å‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œåˆ™ï¼š</p>
<ul>
<li><code>delete p;</code> ä¼šæ­£ç¡®è°ƒç”¨ <code>D</code> çš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨ <code>B</code> çš„ææ„å‡½æ•°ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ç»“è®º</strong></p>
<p>éœ€è¦å°†åŸºç±»çš„ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œä»¥é¿å…èµ„æºæ³„æ¼ã€‚</p>
<p><strong>4. PPTç¬¬äºŒéƒ¨åˆ†åˆ†æ</strong></p>
<p><strong>ä»£ç </strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">mystring</span> &#123; ... &#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123; ... &#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B &#123;</span><br><span class="line">    mystring name;  <span class="comment">// æ´¾ç”Ÿç±»ä¸­å«æœ‰å¤æ‚ç±»å‹æˆå‘˜</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">B* p = <span class="keyword">new</span> D;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ</strong></p>
<ul>
<li>
<p>è¿™é‡Œæ´¾ç”Ÿç±» <code>D</code> ä¸­åŒ…å«ä¸€ä¸ªå¤æ‚ç±»å‹æˆå‘˜ <code>mystring</code>ï¼Œè¯¥ç±»å‹å¯èƒ½æœ‰è‡ªå·±çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚</p>
</li>
<li>
<p>å¦‚æœ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B</span><br></pre></td></tr></table></figure>
<p>çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼š</p>
<ul>
<li>åªä¼šè°ƒç”¨åŸºç±» <code>B</code> çš„ææ„å‡½æ•°ã€‚</li>
<li><code>D</code> çš„ææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
<li><code>mystring</code> çš„ææ„å‡½æ•°ä¹Ÿä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
<li>ç»“æœå¯èƒ½å¯¼è‡´æ´¾ç”Ÿç±»ä¸­æˆå‘˜ <code>name</code> æ‰€å ç”¨çš„èµ„æºæœªé‡Šæ”¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç»“è®º</strong></p>
<p>å½“æ´¾ç”Ÿç±»åŒ…å«éœ€è¦ç‰¹æ®Šææ„çš„å¤æ‚æˆå‘˜ï¼ˆå¦‚åŠ¨æ€åˆ†é…å†…å­˜æˆ–ç±»å¯¹è±¡ï¼‰æ—¶ï¼Œæœªä½¿ç”¨è™šææ„å‡½æ•°çš„åŸºç±»å¯èƒ½å¯¼è‡´æ›´ä¸¥é‡çš„èµ„æºæ³„æ¼ã€‚</p>
<hr>
<p><strong>5. æ€»ç»“</strong></p>
<p><strong>è™šææ„å‡½æ•°çš„å¿…è¦æ€§</strong></p>
<ul>
<li><strong>ä½¿ç”¨è™šææ„å‡½æ•°æ˜¯é¢å‘å¤šæ€ç¼–ç¨‹çš„é‡è¦å®è·µ</strong>ã€‚</li>
<li>å¦‚æœä¸€ä¸ªåŸºç±»æœ‰å¯èƒ½è¢«ç»§æ‰¿ï¼Œå¹¶ä¸”é€šè¿‡åŸºç±»æŒ‡é’ˆæ¥æ“ä½œå¯¹è±¡ï¼ŒåŸºç±»çš„ææ„å‡½æ•°åº”è¯¥è¢«å£°æ˜ä¸ºè™šå‡½æ•°ã€‚</li>
<li>è¿™æ ·å¯ä»¥ç¡®ä¿<strong>æ­£ç¡®åœ°è°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°</strong>ï¼Œé¿å…èµ„æºæ³„æ¼å’Œæœªå®šä¹‰è¡Œä¸ºã€‚</li>
</ul>
<p><strong>ä½¿ç”¨è™šææ„å‡½æ•°çš„æ¨¡æ¿</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">B</span>() &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;B Destructor&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ~<span class="built_in">D</span>() &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;D Destructor&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>å½“é€šè¿‡åŸºç±»æŒ‡é’ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼š</p>
<ul>
<li>é¦–å…ˆè°ƒç”¨ <code>D</code> çš„ææ„å‡½æ•°ã€‚</li>
<li>ç„¶åè°ƒç”¨ <code>B</code> çš„ææ„å‡½æ•°ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    B* p = <span class="keyword">new</span> <span class="built_in">D</span>();</span><br><span class="line">    <span class="keyword">delete</span> p;  <span class="comment">// ç¡®ä¿æ­£ç¡®è°ƒç”¨ææ„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡º</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D Destructor</span><br><span class="line">B Destructor</span><br></pre></td></tr></table></figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221003920688.png" class="" title="image-20241221003920688">
<p><strong>1. è™šå‡½æ•°ä¸ç»§æ‰¿çš„è®¾è®¡åŸåˆ™</strong></p>
<p><strong>æ˜ç¡® public inheritance çš„å«ä¹‰</strong></p>
<ul>
<li>â€œis-aâ€ å…³ç³»ï¼š
<ul>
<li>æ´¾ç”Ÿç±»ä¸åŸºç±»åº”è¯¥éµå¾ª â€œis-aâ€ çš„å…³ç³»ï¼Œè¡¨ç¤ºæ´¾ç”Ÿç±»å¯¹è±¡æ˜¯åŸºç±»å¯¹è±¡çš„ä¸€ç§ç‰¹æ®ŠåŒ–ã€‚</li>
<li>ä¾‹å¦‚ï¼Œ<code>FlyingBird</code> æ˜¯ä¸€ç§é¸Ÿï¼Œç¬¦åˆ â€œis-aâ€ å…³ç³»ï¼›<code>NonFlyingBird</code> ä¹Ÿæ˜¯ä¸€ç§é¸Ÿï¼Œç¬¦åˆ â€œis-aâ€ å…³ç³»ã€‚</li>
<li>ä½†æ˜¯ï¼Œ<code>NonFlyingBird</code> å®ç° <code>fly</code> å‡½æ•°æ—¶ï¼Œåº”å½“æ˜ç¡®å¤„ç†ç‰¹æ€§å·®å¼‚ï¼Œä¾‹å¦‚ç»™å‡ºé”™è¯¯æç¤º â€œPenguins canâ€™t flyâ€ã€‚</li>
</ul>
</li>
</ul>
<p><strong>é¿å…è¦†ç›–éè™šæˆå‘˜å‡½æ•°</strong></p>
<ul>
<li>ä¸è¦åœ¨æ´¾ç”Ÿç±»ä¸­å®šä¹‰ä¸ç»§æ‰¿è€Œæ¥çš„éè™šæˆå‘˜å‡½æ•°åŒåçš„å‡½æ•°ã€‚
<ul>
<li>å¦‚æœåŸºç±»æˆå‘˜å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œè€Œæ´¾ç”Ÿç±»å®šä¹‰äº†åŒåå‡½æ•°ï¼Œè¿™å°†å¯¼è‡´éšè—ï¼ˆéšè—åŸºç±»çš„éè™šå‡½æ•°ï¼‰ï¼Œå¯èƒ½äº§ç”Ÿä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºã€‚</li>
<li>æ¨èä½¿ç”¨ <code>virtual</code> æ˜ç¡®æˆå‘˜å‡½æ•°çš„é‡è½½æ„å›¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. Rectangle å’Œ Square çš„è®¾è®¡é—®é¢˜</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">setHeight</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">setWidth</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">height</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">width</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Square</span> : <span class="keyword">public</span> Rectangle &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setLength</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setHeight</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setWidth</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>é—®é¢˜èƒŒæ™¯</strong></p>
<ul>
<li>ä»æ•°å­¦æ„ä¹‰ä¸Šï¼Œæ­£æ–¹å½¢æ˜¯ä¸€ç§ç‰¹æ®Šçš„çŸ©å½¢ï¼ˆSquare is a Rectangleï¼‰ã€‚</li>
<li>ç„¶è€Œï¼Œæ­£æ–¹å½¢çš„å®½å’Œé«˜æ€»æ˜¯ç›¸ç­‰çš„ï¼Œå¦‚æœç›´æ¥ç»§æ‰¿ Rectangle å¹¶æä¾› <code>setHeight</code> å’Œ <code>setWidth</code> çš„ç‹¬ç«‹å®ç°ï¼Œä¼šå¯¼è‡´è¯­ä¹‰å†²çªã€‚</li>
</ul>
<p><strong>ä»£ç åˆ†æ</strong></p>
<ul>
<li><code>Square</code> é‡è½½äº† <code>setHeight</code> å’Œ <code>setWidth</code> å¹¶å°†å…¶è®¾ä¸º <code>private</code>ï¼Œä»è€Œé™åˆ¶äº†ç›´æ¥è°ƒç”¨ã€‚</li>
<li>ä½†<strong>è¿™ç§åšæ³•ä¼šå¯¼è‡´å¤šæ€è¡Œä¸ºçš„é—®é¢˜ï¼Œå› ä¸ºåŸºç±»çš„è™šå‡½æ•°æœºåˆ¶å…è®¸é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨æ´¾ç”Ÿç±»çš„ <code>setHeight</code> å’Œ <code>setWidth</code></strong>ï¼Œä»è€Œç ´åæ­£æ–¹å½¢çš„çº¦æŸï¼ˆå®½ç­‰äºé«˜ï¼‰ã€‚</li>
</ul>
<p><strong><code>Square::setHeight</code> æ˜¯ private çš„ï¼Œèƒ½å¦è°ƒç”¨ï¼Ÿ</strong></p>
<ul>
<li>
<p>è™½ç„¶ <code>Square::setHeight</code> æ˜¯ <code>private</code> çš„ï¼Œä½†è¿™å¹¶ä¸ä¼šé˜»æ­¢é€šè¿‡ <strong>åŸºç±»æŒ‡é’ˆ</strong> è°ƒç”¨è™šå‡½æ•°çš„è¿‡ç¨‹ã€‚</p>
</li>
<li>
<p>è®¿é—®æ§åˆ¶è§„åˆ™ï¼ˆ<code>public</code>ã€<code>protected</code>ã€<code>private</code>ï¼‰æ˜¯åœ¨</p>
<p><strong>ç¼–è¯‘æœŸæ£€æŸ¥</strong>çš„ï¼Œè€Œè™šå‡½æ•°çš„è§£ææ˜¯åœ¨<strong>è¿è¡Œæ—¶å®Œæˆ</strong>çš„ã€‚è¿™æ˜¯å…³é”®ç‚¹ï¼š</p>
<ul>
<li>ç¼–è¯‘æ—¶ï¼šç¼–è¯‘å™¨åªä¼šæ£€æŸ¥ <code>Rectangle</code> ç±»çš„ <code>setHeight</code> æ˜¯å¦å¯¹è°ƒç”¨æ–¹å¯è§ã€‚
<ul>
<li>å› ä¸º <code>Rectangle::setHeight</code> æ˜¯ <code>public</code> çš„ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å…è®¸è°ƒç”¨ <code>p-&gt;setHeight(10)</code>ã€‚</li>
</ul>
</li>
<li><strong>è¿è¡Œæ—¶</strong>ï¼šç”±äº <code>p</code> å®é™…æŒ‡å‘ä¸€ä¸ª <code>Square</code> å¯¹è±¡ï¼Œè™šå‡½æ•°æœºåˆ¶ä¼šåœ¨è¿è¡Œæ—¶è°ƒç”¨ <code>Square</code> çš„ <code>setHeight</code> æ–¹æ³•ï¼Œ<strong>æ— è§†è®¿é—®æ§åˆ¶</strong>ã€‚</li>
</ul>
</li>
</ul>
<p>å› æ­¤ï¼Œ<strong>å³ä½¿ <code>Square::setHeight</code> æ˜¯ <code>private</code> çš„ï¼Œè™šå‡½æ•°æœºåˆ¶ä»ç„¶ä¼šåœ¨è¿è¡Œæ—¶è°ƒç”¨å®ƒ</strong>ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆä¼šå¯¼è‡´ <code>assert</code> å¤±è´¥ï¼Ÿ</strong></p>
<ul>
<li>ç”±äº <code>Square::setHeight</code> æ˜¯ <code>private</code> çš„ï¼Œå¼€å‘è€…çš„æœ¬æ„å¯èƒ½æ˜¯å¸Œæœ›å¤–éƒ¨ä»£ç æ— æ³•ç›´æ¥ä¿®æ”¹æ­£æ–¹å½¢çš„é«˜åº¦å’Œå®½åº¦ï¼Œä»¥ä¿æŒæ­£æ–¹å½¢çš„æ•°å­¦çº¦æŸï¼ˆå®½ç­‰äºé«˜ï¼‰ã€‚</li>
<li>ä½†é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œ<code>Square::setHeight</code> è¢«è°ƒç”¨ï¼Œè€Œè¿™ä¸ªæ–¹æ³•å¯èƒ½<strong>åªä¿®æ”¹é«˜åº¦</strong>ï¼Œå´æ²¡æœ‰åŒæ­¥ä¿®æ”¹å®½åº¦ã€‚</li>
<li>ç»“æœå°±æ˜¯ï¼šæ­£æ–¹å½¢çš„å®½åº¦å’Œé«˜åº¦ä¸å†ç›¸ç­‰ï¼Œç ´åäº†æ­£æ–¹å½¢çš„è¯­ä¹‰ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Square <span class="title">s</span><span class="params">(<span class="number">1</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">Rectangle* p = &amp;s;</span><br><span class="line">p-&gt;<span class="built_in">setHeight</span>(<span class="number">10</span>); <span class="comment">// è°ƒç”¨äº† Square::setHeightï¼Œåªä¿®æ”¹äº†é«˜åº¦</span></span><br><span class="line"><span class="built_in">assert</span>(s.<span class="built_in">width</span>() == s.<span class="built_in">height</span>()); <span class="comment">// æ–­è¨€å¤±è´¥ï¼Œå› ä¸ºå®½åº¦æ²¡æœ‰åŒæ­¥æ›´æ–°</span></span><br></pre></td></tr></table></figure>
<h3 id="privateç»§æ‰¿">privateç»§æ‰¿</h3>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221093747287.png" class="" title="image-20241221093747287">
<ol>
<li><strong>privateç»§æ‰¿çš„æ¦‚å¿µ</strong></li>
</ol>
<ul>
<li><strong>privateç»§æ‰¿</strong>æ˜¯C++ä¸­çš„ä¸€ç§ç»§æ‰¿æ–¹å¼ã€‚</li>
<li>ä¸<code>publicç»§æ‰¿</code>ä¸åŒï¼Œ<code>privateç»§æ‰¿</code>çš„ç›®çš„å¹¶ä¸æ˜¯ä¸ºäº†å»ºç«‹&quot;is-a&quot;ï¼ˆæ˜¯ä¸€ä¸ªï¼‰çš„å…³ç³»ï¼Œè€Œæ˜¯ä¸ºäº†å®ç°<code>&quot;implemented-in-term-of&quot;</code>ï¼ˆé€šè¿‡æŸä¸ªç±»çš„å®ç°æ¥å®ç°å¦ä¸€ä¸ªç±»çš„åŠŸèƒ½ï¼‰ã€‚</li>
<li>è®¿é—®æ§åˆ¶çš„ç‰¹æ€§ï¼š
<ul>
<li>åŸºç±»çš„<code>public</code>å’Œ<code>protected</code>æˆå‘˜ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­éƒ½ä¼šå˜æˆ<code>private</code>ã€‚</li>
<li>æ´¾ç”Ÿç±»çš„å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®åŸºç±»çš„æˆå‘˜ã€‚</li>
</ul>
</li>
<li>è®¾è®¡ç›®çš„ï¼š
<ul>
<li>ä¸»è¦ç”¨äº<strong>å®ç°å±‚é¢</strong>ï¼Œè€Œéè®¾è®¡å±‚é¢ï¼Œå¼ºè°ƒå®ç°çš„å†…éƒ¨é€»è¾‘ï¼Œè€Œä¸æ˜¯åœ¨ç±»å‹ç³»ç»Ÿä¸­å»ºç«‹çˆ¶å­å…³ç³»ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>PPTä¸­çš„ä»£ç åŠè§£é‡Š</strong></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CHumanBeing</span> &#123; ... &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CStudent</span> : <span class="keyword">private</span> CHumanBeing &#123; ... &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eat</span><span class="params">(<span class="type">const</span> CHumanBeing&amp; h)</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">CHumanBeing a;</span><br><span class="line">CStudent b;</span><br><span class="line"><span class="built_in">eat</span>(a);  <span class="comment">// æ­£å¸¸ï¼ŒCHumanBeingçš„å¯¹è±¡å¯ä»¥ç›´æ¥ä¼ å…¥</span></span><br><span class="line"><span class="built_in">eat</span>(b);  <span class="comment">// é”™è¯¯ï¼Œå› ä¸ºCStudentä¸èƒ½è¢«éšå¼è½¬æ¢ä¸ºCHumanBeing</span></span><br></pre></td></tr></table></figure>
<p><strong>(1) ä¸ºä»€ä¹ˆ <code>eat(b)</code> æŠ¥é”™ï¼Ÿ</strong></p>
<ul>
<li>
<p><code>CStudent</code>é€šè¿‡<code>privateç»§æ‰¿</code>è‡ª<code>CHumanBeing</code>ã€‚</p>
</li>
<li>
<p>åœ¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">privateç»§æ‰¿</span><br></pre></td></tr></table></figure>
<p>ä¸­ï¼Œæ´¾ç”Ÿç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CStudent</span><br></pre></td></tr></table></figure>
<p>ä¸èƒ½éšå¼åœ°è¢«çœ‹ä½œåŸºç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHumanBeing</span><br></pre></td></tr></table></figure>
<p>ã€‚</p>
<ul>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>CStudent</code> <strong>ä¸æ˜¯</strong> <code>CHumanBeing</code> çš„ä¸€ç§ï¼ˆ<code>is-a</code>å…³ç³»ä¸æˆç«‹ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>å› æ­¤ï¼Œè°ƒç”¨<code>eat(b)</code>æ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸º<code>eat</code>å‡½æ•°éœ€è¦ä¸€ä¸ª<code>CHumanBeing&amp;</code>ç±»å‹çš„å‚æ•°ï¼Œä½†æ— æ³•å°†<code>CStudent</code>éšå¼è½¬æ¢ä¸º<code>CHumanBeing</code>ã€‚</p>
</li>
</ul>
<p><strong>(2) <code>privateç»§æ‰¿</code>çš„ç‰¹æ€§</strong></p>
<ul>
<li><code>privateç»§æ‰¿</code>ä¸­ï¼ŒåŸºç±»çš„æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º<code>private</code>ï¼Œä»…ä¾›æ´¾ç”Ÿç±»è‡ªèº«è®¿é—®ã€‚</li>
<li>å¤–éƒ¨ä»£ç æ— æ³•ç›´æ¥è®¿é—®åŸºç±»çš„æˆå‘˜ï¼Œä¹Ÿæ— æ³•å°†æ´¾ç”Ÿç±»å¯¹è±¡è§†ä¸ºåŸºç±»å¯¹è±¡ã€‚</li>
</ul>
<ol start="3">
<li><strong>privateç»§æ‰¿çš„ç”¨é€”</strong></li>
</ol>
<p><strong>(1) å®ç°&quot;implemented-in-term-of&quot;</strong></p>
<ul>
<li>é€šè¿‡<code>privateç»§æ‰¿</code>ï¼Œæ´¾ç”Ÿç±»å¯ä»¥ä½¿ç”¨åŸºç±»çš„<code>protected</code>æˆå‘˜æˆ–è€…è¦†ç›–å…¶<code>virtual</code>å‡½æ•°ï¼Œä»è€Œå¤ç”¨åŸºç±»çš„å®ç°ã€‚</li>
<li><strong>è¿™ç§å¤ç”¨æ˜¯â€œé€šè¿‡å®ç°â€è€Œéâ€œé€šè¿‡æ¥å£â€</strong>ã€‚</li>
</ul>
<p><strong>(2) éšè—åŸºç±»çš„æ¥å£</strong></p>
<ul>
<li><code>privateç»§æ‰¿</code>ä¼šéšè—åŸºç±»çš„æ‰€æœ‰<code>public</code>å’Œ<code>protected</code>æ¥å£ï¼Œä»è€Œé˜²æ­¢æ´¾ç”Ÿç±»çš„ç”¨æˆ·ç›´æ¥è®¿é—®è¿™äº›æ¥å£ã€‚</li>
<li>åœ¨è®¾è®¡ä¸Šï¼Œå¼ºè°ƒâ€œæˆ‘å®ç°äº†æŸäº›åŠŸèƒ½ï¼Œä½†ä¸å¸Œæœ›å¤–ç•ŒçŸ¥é“æˆ‘æ˜¯é€šè¿‡ç»§æ‰¿æŸä¸ªç±»æ¥å®ç°çš„â€ã€‚</li>
</ul>
<p><strong>(3) å¼ºè°ƒå®ç°å±‚é¢çš„å…³ç³»ï¼Œè€Œéç±»å‹å±‚é¢çš„å…³ç³»</strong></p>
<ul>
<li>ä¸<code>publicç»§æ‰¿</code>ä¸åŒï¼Œ<code>privateç»§æ‰¿</code>ä¸ä¼šå»ºç«‹çˆ¶å­ç±»çš„ç±»å‹å±‚æ¬¡å…³ç³»ã€‚</li>
<li>åœ¨ç±»å‹ç³»ç»Ÿä¸­ï¼Œ<code>CStudent</code>ä¸<code>CHumanBeing</code>æ˜¯å®Œå…¨ä¸åŒçš„ç±»å‹ï¼Œä¸ä¼šå› ä¸ºç»§æ‰¿è€Œå»ºç«‹ä»»ä½•ç±»å‹ä¸Šçš„è”ç³»ã€‚</li>
</ul>
<hr>
<ol start="4">
<li><strong>å¸¸è§åº”ç”¨åœºæ™¯</strong></li>
</ol>
<p><strong>(1) éœ€è¦è®¿é—®åŸºç±»çš„<code>protected</code>æˆå‘˜</strong></p>
<ul>
<li>å¦‚æœéœ€è¦è®¿é—®åŸºç±»çš„<code>protected</code>æˆå‘˜ï¼Œä½†åˆä¸å¸Œæœ›å¤–ç•ŒæŠŠæ´¾ç”Ÿç±»å½“æˆåŸºç±»ä½¿ç”¨ï¼Œå¯ä»¥é‡‡ç”¨<code>privateç»§æ‰¿</code>ã€‚</li>
</ul>
<p><strong>(2) ä¸å¸Œæœ›åŸºç±»çš„æ¥å£æš´éœ²ç»™ç”¨æˆ·</strong></p>
<ul>
<li>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç±»å†…éƒ¨éœ€è¦ç”¨åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::vector</span><br></pre></td></tr></table></figure>
<p>æ¥ç®¡ç†æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›å¤–ç•ŒæŠŠè¿™ä¸ªç±»å½“æˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::vector</span><br></pre></td></tr></table></figure>
<p>æ¥ä½¿ç”¨ï¼Œå°±å¯ä»¥ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">privateç»§æ‰¿</span><br></pre></td></tr></table></figure>
<p>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyContainer</span> : <span class="keyword">private</span> std::vector&lt;<span class="type">int</span>&gt; &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">push_back</span>(value); <span class="comment">// ä½¿ç”¨std::vectorçš„å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">size_t</span> index)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">at</span>(index); <span class="comment">// ä½¿ç”¨std::vectorçš„å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>(3) ç”¨ä½œçº¯ç²¹çš„å®ç°å·¥å…·</strong></p>
<ul>
<li>åŸºç±»åªæ˜¯ä½œä¸ºä¸€ä¸ªå·¥å…·ç±»ï¼Œæä¾›å®ç°çš„æŸäº›åŸºç¡€åŠŸèƒ½ï¼Œè€Œä¸ä¼šç”¨äºè¡¨ç¤ºä¸€ç§ç±»å‹çš„å…³ç³»ã€‚</li>
</ul>
<ol start="5">
<li><strong>ä¸ç»„åˆçš„å¯¹æ¯”</strong></li>
</ol>
<p>åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œç»„åˆï¼ˆ<code>has-a</code>ï¼‰æ¯”ç»§æ‰¿ï¼ˆç‰¹åˆ«æ˜¯<code>privateç»§æ‰¿</code>ï¼‰æ›´åˆé€‚ï¼š</p>
<ul>
<li>å¦‚æœæ´¾ç”Ÿç±»åªéœ€è¦åˆ©ç”¨åŸºç±»çš„å®ç°ï¼Œå¹¶ä¸éœ€è¦è®¿é—®å…¶<code>protected</code>æˆå‘˜ï¼Œé€šå¸¸å¯ä»¥é€‰æ‹©ç»„åˆã€‚</li>
<li>ç»„åˆçš„ä¼˜åŠ¿æ˜¯æ›´åŠ çµæ´»ï¼Œèƒ½å¤Ÿæ˜ç¡®è¡¨ç¤ºè¯­ä¹‰ä¸Šçš„å…³ç³»ï¼š
<ul>
<li><strong>ç»„åˆ</strong>ï¼šè¡¨ç¤ºâ€œæœ‰ä¸€ä¸ªâ€å…³ç³»ï¼ˆ<code>has-a</code>ï¼‰ã€‚</li>
<li><strong>ç»§æ‰¿</strong>ï¼šè¡¨ç¤ºâ€œæ˜¯ä¸€ä¸ªâ€å…³ç³»ï¼ˆ<code>is-a</code> æˆ– <code>implemented-in-term-of</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221094159034.png" class="" title="image-20241221094159034">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221094306142.png" class="" title="image-20241221094306142">
<ol>
<li><strong>è°ƒç”¨è™šå‡½æ•°çš„æœºåˆ¶</strong></li>
</ol>
<ul>
<li>
<p><strong>é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A *p_a;</span><br><span class="line">B b;</span><br><span class="line">p_a = &amp;b;</span><br><span class="line">p_a-&gt;<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨B::f()</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å½“é€šè¿‡<code>p_a</code>è°ƒç”¨<code>f</code>æ—¶ï¼Œ<code>p_a</code>æŒ‡å‘<code>B</code>ç±»å¯¹è±¡çš„è™šè¡¨ã€‚</li>
<li>è™šè¡¨æŒ‡é’ˆ<code>vptr</code>ä¼šå®šä½åˆ°<code>B</code>çš„è™šè¡¨ï¼Œæ‰¾åˆ°<code>B::f</code>çš„åœ°å€ï¼Œå¹¶å®Œæˆè°ƒç”¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¼ºçœå‚æ•°å€¼çš„æ³¨æ„ç‚¹</strong></p>
<ul>
<li>è™½ç„¶è™šå‡½æ•°çš„åŠ¨æ€ç»‘å®šæ˜¯è¿è¡Œæ—¶å®Œæˆçš„ï¼Œä½†ç¼ºçœå‚æ•°å€¼æ˜¯åœ¨<strong>ç¼–è¯‘æ—¶</strong>ç¡®å®šçš„ã€‚</li>
<li>å¦‚æœé€šè¿‡åŸºç±»æŒ‡é’ˆ<code>p_a</code>è°ƒç”¨<code>f</code>ï¼Œç¼ºçœå‚æ•°å€¼ä½¿ç”¨çš„æ˜¯<strong>åŸºç±»ä¸­å®šä¹‰çš„å€¼</strong>ï¼Œè€Œä¸æ˜¯æ´¾ç”Ÿç±»ä¸­çš„å€¼ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ä¸ºä»€ä¹ˆâ€œç»å¯¹ä¸è¦é‡æ–°å®šä¹‰ç»§æ‰¿è€Œæ¥çš„ç¼ºçœå‚æ•°å€¼â€</strong></li>
</ol>
<ul>
<li>PPTä¸­æŒ‡å‡ºï¼š<strong>ç¼ºçœå‚æ•°å€¼æ˜¯ç¼–è¯‘æ—¶ç»‘å®šçš„ï¼Œè€Œè™šå‡½æ•°è°ƒç”¨æ˜¯è¿è¡Œæ—¶ç»‘å®šçš„</strong>ã€‚</li>
<li>è¿™ä¼šå¯¼è‡´<strong>è°ƒç”¨è™šå‡½æ•°æ—¶çš„è¡Œä¸ºä¸ç¼ºçœå‚æ•°å€¼ä¸ä¸€è‡´</strong>ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A *p_a1;</span><br><span class="line">C c;</span><br><span class="line">p_a1 = &amp;c;</span><br><span class="line">p_a1-&gt;<span class="built_in">f</span>();  <span class="comment">// è°ƒç”¨çš„æ˜¯C::fï¼Œä½†å‚æ•°å€¼æ˜¯Aä¸­å®šä¹‰çš„0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<pre><code>p_a1-&gt;f()
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  ï¼š</span><br><span class="line"></span><br><span class="line">  - **åŠ¨æ€ç»‘å®š**ï¼šè°ƒç”¨çš„æ˜¯`C::f`ã€‚</span><br><span class="line">  - **ç¼ºçœå‚æ•°å€¼**ï¼šä½¿ç”¨çš„æ˜¯`A`ä¸­å®šä¹‰çš„`x = 0`ï¼Œè€Œä¸æ˜¯`C`ä¸­çš„å‚æ•°å€¼ã€‚</span><br><span class="line"></span><br><span class="line">- ç»“æœï¼š</span><br><span class="line"></span><br><span class="line">  - å‡½æ•°è°ƒç”¨çš„è¡Œä¸ºæ˜¯`C::f(0)`ï¼Œä½†ç”¨æˆ·å¯èƒ½æœŸæœ›`C`ä¸­çš„ç¼ºçœå‚æ•°å€¼è¢«ä½¿ç”¨ï¼Œä»è€Œå¯¼è‡´ç¨‹åºè¡Œä¸ºä¸ç¬¦åˆé¢„æœŸã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¤šç»§æ‰¿</span><br><span class="line"></span><br><span class="line">![image-20241221095153747](CPP-2-2/image-20241221095153747.png)</span><br><span class="line"></span><br><span class="line">![image-20241221095256848](CPP-2-2/image-20241221095256848.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![image-20241221095343505](CPP-2-2/image-20241221095343505.png)</span><br><span class="line"></span><br><span class="line">![image-20241221095610292](CPP-2-2/image-20241221095610292.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**ç¬¬ä¸€å¼ PPTï¼šæœªç»ä¼˜åŒ–çš„å¤šç»§æ‰¿è®¾è®¡**</span><br><span class="line"></span><br><span class="line">1. èƒŒæ™¯ï¼šç›´æ¥å¤šç»§æ‰¿</span><br><span class="line">   - `SleepSofa` ç±»ç›´æ¥ç»§æ‰¿äº† `Bed` å’Œ `Sofa`ã€‚</span><br><span class="line">   - `Bed` å’Œ `Sofa` å„è‡ªå®šä¹‰äº† `weight` å’Œ `SetWeight()`ï¼Œè¡¨ç¤ºåºŠå’Œæ²™å‘çš„é‡é‡å±æ€§å’Œè®¾ç½®é‡é‡çš„æ–¹æ³•ã€‚</span><br><span class="line">   - é—®é¢˜ï¼šäºŒä¹‰æ€§ä¸å†—ä½™</span><br><span class="line">     - `SleepSofa` é€šè¿‡ç»§æ‰¿å¾—åˆ°äº†ä¸¤ä¸ªç‹¬ç«‹çš„ `weight` å’Œ `SetWeight()`ï¼Œä¸€ä¸ªæ¥è‡ª `Bed`ï¼Œä¸€ä¸ªæ¥è‡ª `Sofa`ã€‚</span><br><span class="line">     - ç¼–è¯‘å™¨ä¼šä¸çŸ¥é“å½“è®¿é—® `weight` æˆ–è°ƒç”¨ `SetWeight()` æ—¶æ˜¯è°ƒç”¨ `Bed` çš„è¿˜æ˜¯ `Sofa` çš„ï¼Œå¯¼è‡´**äºŒä¹‰æ€§**ã€‚</span><br><span class="line">     - æ•°æ®å†—ä½™ï¼šä¸¤ä¸ª `weight` å’Œ `SetWeight()` æ˜¯é‡å¤çš„ã€‚</span><br><span class="line"></span><br><span class="line">**ç¬¬äºŒå¼ PPTï¼šåŸºç±»åˆ†è§£ï¼ˆBase-Class Decompositionï¼‰**</span><br><span class="line"></span><br><span class="line">1. ä¼˜åŒ–ï¼šå°†å…¬å…±éƒ¨åˆ†æŠ½å–åˆ°å…¬å…±åŸºç±»</span><br><span class="line">   - å¼•å…¥ `Furniture` åŸºç±»ï¼š</span><br><span class="line">     - å®šä¹‰äº† `weight` å’Œ `SetWeight()`ï¼Œå°†è¿™ä¸¤ä¸ªåŠŸèƒ½æŠ½å–å‡ºæ¥ï¼Œè¡¨ç¤ºæ‰€æœ‰å®¶å…·çš„å…¬å…±å±æ€§ã€‚</span><br><span class="line">     - `Bed` å’Œ `Sofa` ç»§æ‰¿ `Furniture`ï¼Œæ‰©å±•è‡ªå·±ç‹¬æœ‰çš„åŠŸèƒ½ï¼ˆå¦‚ `Sleep()` å’Œ `WatchTV()`ï¼‰ã€‚</span><br><span class="line">   - è§£å†³é—®é¢˜ï¼š</span><br><span class="line">     - æ•°æ®å†—ä½™æ¶ˆé™¤ï¼š`SleepSofa` åªéœ€è¦ä» `Furniture` ä¸­ç»§æ‰¿ä¸€æ¬¡ `weight` å’Œ `SetWeight()`ã€‚</span><br><span class="line">     - æ¶ˆé™¤äº†äºŒä¹‰æ€§ï¼š`SleepSofa` è°ƒç”¨ `SetWeight()` æ—¶æ˜¯ä» `Furniture` ä¸­ç»§æ‰¿è€Œæ¥ã€‚</span><br><span class="line">   - ç¼ºé™·ï¼šä¾ç„¶å­˜åœ¨å¤šç»§æ‰¿çš„æ½œåœ¨é—®é¢˜ï¼š</span><br><span class="line">     - å¦‚æœ `Bed` å’Œ `Sofa` ç»§æ‰¿ `Furniture` æ˜¯æ™®é€šç»§æ‰¿ï¼Œ`SleepSofa` ä¾ç„¶ä¼šç»§æ‰¿ä¸¤ä»½ `Furniture` çš„å‰¯æœ¬ï¼ˆå› ä¸ºæ¯ä¸ªåŸºç±»éƒ½æœ‰ä¸€ä»½ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">**ç¬¬ä¸‰å¼ PPTï¼šå¼•å…¥è™šç»§æ‰¿ï¼ˆVirtual Inheritanceï¼‰**</span><br><span class="line"></span><br><span class="line">1. è¿›ä¸€æ­¥ä¼˜åŒ–ï¼šä½¿ç”¨è™šç»§æ‰¿</span><br><span class="line">   - å¼•å…¥è™šç»§æ‰¿çš„æ¦‚å¿µï¼š</span><br><span class="line">     - `Bed` å’Œ `Sofa` **ä½¿ç”¨ `virtual` å…³é”®å­—ç»§æ‰¿ `Furniture`**ã€‚</span><br><span class="line">     - `SleepSofa` é€šè¿‡è™šç»§æ‰¿æœºåˆ¶åªç»§æ‰¿äº†ä¸€ä»½ `Furniture` çš„å‰¯æœ¬ã€‚</span><br><span class="line">   - ç‰¹ç‚¹ï¼š</span><br><span class="line">     - è™šç»§æ‰¿æ¶ˆé™¤äº†å› æ™®é€šç»§æ‰¿äº§ç”Ÿçš„**å†—ä½™å‰¯æœ¬**é—®é¢˜ã€‚</span><br><span class="line">     - `Furniture` ä¸­çš„ `weight` å’Œ `SetWeight()` åœ¨æ•´ä¸ªç»§æ‰¿é“¾ä¸­åªå­˜åœ¨ä¸€ä¸ªå‰¯æœ¬ï¼Œ`SleepSofa` åªéœ€è¦ç®¡ç†ä¸€ä»½ `Furniture` çš„æ•°æ®å’Œè¡Œä¸ºã€‚</span><br><span class="line">   - ä¼˜ç‚¹ï¼š</span><br><span class="line">     - è§£å†³äº†å¤šç»§æ‰¿ä¸­çš„äºŒä¹‰æ€§å’Œå†—ä½™é—®é¢˜ã€‚</span><br><span class="line">     - é€šè¿‡è™šç»§æ‰¿ï¼Œä¿è¯ `SleepSofa` ä¸ä¼šå‡ºç°å¤šä¸ª `Furniture` å‰¯æœ¬çš„é—®é¢˜ã€‚</span><br><span class="line"></span><br><span class="line">**ä¸‰å¼ PPTçš„æ€»ç»“**</span><br><span class="line"></span><br><span class="line">1. ç¬¬ä¸€å¼ ï¼šç›´æ¥å¤šç»§æ‰¿</span><br><span class="line">   - å±•ç¤ºäº†å¤šç»§æ‰¿çš„åŸºæœ¬é—®é¢˜ï¼šäºŒä¹‰æ€§å’Œæ•°æ®å†—ä½™ã€‚</span><br><span class="line">2. ç¬¬äºŒå¼ ï¼šåŸºç±»åˆ†è§£</span><br><span class="line">   - å°†å…¬å…±åŠŸèƒ½æŠ½å–åˆ°å…¬å…±åŸºç±»ä¸­ï¼ˆ`Furniture`ï¼‰ï¼Œå‡å°‘äº†é‡å¤ä»£ç ï¼Œè§£å†³äº†ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œä½†æ²¡æœ‰å®Œå…¨æ¶ˆé™¤å¤šç»§æ‰¿çš„äºŒä¹‰æ€§ã€‚</span><br><span class="line">3. ç¬¬ä¸‰å¼ ï¼šè™šç»§æ‰¿</span><br><span class="line">   - é€šè¿‡è™šç»§æ‰¿ï¼ˆ`virtual` å…³é”®å­—ï¼‰ï¼Œåœ¨æ•´ä¸ªç»§æ‰¿é“¾ä¸­åªå­˜åœ¨ä¸€ä¸ª `Furniture` çš„å‰¯æœ¬ï¼Œå½»åº•è§£å†³äº†äºŒä¹‰æ€§å’Œå†—ä½™é—®é¢˜ã€‚</span><br><span class="line"></span><br><span class="line">**è¡¥å……ï¼šè™šç»§æ‰¿çš„ä»£ä»·**</span><br><span class="line"></span><br><span class="line">è™½ç„¶è™šç»§æ‰¿è§£å†³äº†å¤šç»§æ‰¿ä¸­çš„äºŒä¹‰æ€§é—®é¢˜ï¼Œä½†å¼•å…¥äº†é¢å¤–çš„å¼€é”€ï¼š</span><br><span class="line"></span><br><span class="line">- æ¯ä¸ªè™šç»§æ‰¿çš„åŸºç±»åœ¨æ´¾ç”Ÿç±»ä¸­æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘å…±äº«çš„åŸºç±»æ•°æ®ã€‚</span><br><span class="line">- åŠ¨æ€ç»‘å®šçš„å¼€é”€ç¨å¾®å¢åŠ ã€‚</span><br><span class="line"></span><br><span class="line">æ€»çš„æ¥è¯´ï¼Œè™šç»§æ‰¿æ˜¯ä¸€ç§é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­è§£å†³å¤šç»§æ‰¿å†²çªçš„é‡è¦æ‰‹æ®µï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦å…¬å…±åŸºç±»çš„å¤æ‚ç»§æ‰¿ç»“æ„ä¸­ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![image-20241221095827663](CPP-2-2/image-20241221095827663.png)</span><br><span class="line"></span><br><span class="line">1. **åŸºç±»çš„å£°æ˜é¡ºåºå¯¹å¤šç»§æ‰¿çš„å½±å“**</span><br><span class="line"></span><br><span class="line">**åŸºç±»æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„è°ƒç”¨é¡ºåº**</span><br><span class="line"></span><br><span class="line">- è§„åˆ™ï¼šåœ¨å¤šç»§æ‰¿ä¸­ï¼ŒåŸºç±»çš„æ„é€ å‡½æ•°è°ƒç”¨é¡ºåºç”±åŸºç±»åœ¨æ´¾ç”Ÿç±»å£°æ˜ä¸­çš„é¡ºåºå†³å®šã€‚</span><br><span class="line"></span><br><span class="line">  - æ¯”å¦‚ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  class D : B, C &#123;&#125;
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    - æ„é€ æ—¶ï¼šå…ˆè°ƒç”¨ `B` çš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨ `C` çš„æ„é€ å‡½æ•°ï¼Œæœ€åæ˜¯æ´¾ç”Ÿç±» `D` çš„æ„é€ å‡½æ•°ã€‚</span><br><span class="line">    - ææ„æ—¶ï¼šé¡ºåºç›¸åï¼Œå…ˆææ„ `D`ï¼Œç„¶åæ˜¯ `C`ï¼Œæœ€åæ˜¯ `B`ã€‚</span><br><span class="line"></span><br><span class="line">**åŸºç±»æ•°æ®æˆå‘˜çš„å­˜å‚¨æ’åˆ—**</span><br><span class="line"></span><br><span class="line">- è§„åˆ™ï¼šåŸºç±»æ•°æ®æˆå‘˜åœ¨å†…å­˜ä¸­çš„å­˜å‚¨é¡ºåºä¸åŸºç±»å£°æ˜çš„é¡ºåºä¸€è‡´ã€‚</span><br><span class="line">  - è¿™ä¿è¯äº†åœ¨å¯¹è±¡å¸ƒå±€æ—¶ï¼ŒåŸºç±»çš„æˆå‘˜èƒ½å¤ŸæŒ‰ç…§å…¶å£°æ˜é¡ºåºè¢«æ­£ç¡®è®¿é—®ã€‚</span><br><span class="line"></span><br><span class="line">2. **å‘½åå†²çªé—®é¢˜**</span><br><span class="line"></span><br><span class="line">**é—®é¢˜æè¿°**</span><br><span class="line"></span><br><span class="line">- åœ¨å¤šç»§æ‰¿ä¸­ï¼Œä¸åŒåŸºç±»å¯èƒ½æœ‰åŒåçš„æˆå‘˜æˆ–æ–¹æ³•ï¼Œè¿™ä¼šå¯¼è‡´å†²çªã€‚</span><br><span class="line"></span><br><span class="line">  - å¦‚ä¾‹å­æ‰€ç¤ºï¼š</span><br><span class="line"></span><br><span class="line">    ```cpp</span><br><span class="line">    class A &#123;</span><br><span class="line">        int x;</span><br><span class="line">    &#125;;</span><br><span class="line">    class B : A &#123;&#125;;</span><br><span class="line">    class C : A &#123;&#125;;</span><br><span class="line">    class D : B, C &#123;&#125;;</span><br></pre></td></tr></table></figure>

  åœ¨ 

  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D</span><br></pre></td></tr></table></figure>

   ä¸­ï¼Œä¼šå› ä¸º 

  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B</span><br></pre></td></tr></table></figure>

   å’Œ 

  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C</span><br></pre></td></tr></table></figure>

   éƒ½ç»§æ‰¿äº† 

  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A</span><br></pre></td></tr></table></figure>

  ï¼Œä»è€Œå¯¼è‡´ 

  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A</span><br></pre></td></tr></table></figure>

   çš„æˆå‘˜ï¼ˆå¦‚ 

  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure>

  ï¼‰å‡ºç°ä¸¤ä»½ã€‚

</code></pre>
</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<ul>
<li>
<p>ä½¿ç”¨ä½œç”¨åŸŸè§£æç¬¦æ˜ç¡®æŒ‡å®šè®¿é—®å“ªä¸ªåŸºç±»çš„æˆå‘˜ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;åŸºç±»å&gt;::&lt;åŸºç±»æˆå‘˜å&gt;;</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d.B::x; <span class="comment">// è®¿é—®ä» B ä¸­ç»§æ‰¿çš„ A çš„ x</span></span><br><span class="line">d.C::x; <span class="comment">// è®¿é—®ä» C ä¸­ç»§æ‰¿çš„ A çš„ x</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="3">
<li><strong>è™šåŸºç±»ï¼šè§£å†³å†—ä½™å‰¯æœ¬é—®é¢˜</strong></li>
</ol>
<p><strong>é—®é¢˜æè¿°</strong></p>
<ul>
<li>å¦‚æœå¤šä¸ªåŸºç±»ç»§æ‰¿äº†åŒä¸€ä¸ªå…¬å…±åŸºç±»ï¼Œæ´¾ç”Ÿç±»ä¼šåŒ…å«è¯¥å…¬å…±åŸºç±»çš„å¤šä»½å‰¯æœ¬ï¼Œé€ æˆæ•°æ®å†—ä½™ã€‚
<ul>
<li>åœ¨PPTä¸­çš„ä¾‹å­ä¸­ï¼š
<ul>
<li><code>class B : public A</code> å’Œ <code>class C : public A</code> éƒ½ä» <code>A</code> ç»§æ‰¿ã€‚</li>
<li><code>class D : public B, public C</code> ä¼šæ‹¥æœ‰ <code>A</code> çš„ä¸¤ä»½ç‹¬ç«‹å‰¯æœ¬ã€‚</li>
<li><code>D</code> åœ¨è®¿é—® <code>A</code> çš„æˆå‘˜æ—¶ï¼Œä¼šå¼•å‘<strong>äºŒä¹‰æ€§</strong>é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>è™šåŸºç±»çš„å¼•å…¥</strong></p>
<ul>
<li>
<p>å®šä¹‰ï¼šé€šè¿‡åœ¨ç»§æ‰¿æ—¶ä½¿ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtual</span><br></pre></td></tr></table></figure>
<p>å…³é”®å­—å£°æ˜åŸºç±»ä¸ºè™šåŸºç±»ï¼Œå¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p>
<ul>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B, <span class="keyword">public</span> C &#123;&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>æ•ˆæœï¼š</p>
<ul>
<li><code>D</code> ç±»ä¸­åªä¼šä¿ç•™ <strong>ä¸€ä»½å…¬å…±åŸºç±» <code>A</code> çš„å‰¯æœ¬</strong>ã€‚</li>
<li>è™šåŸºç±»çš„åˆå§‹åŒ–ç”±æœ€æ´¾ç”Ÿç±»ï¼ˆå³ <code>D</code>ï¼‰è´Ÿè´£ï¼ŒåŸºç±» <code>B</code> å’Œ <code>C</code> ä¸å†é‡å¤åˆå§‹åŒ– <code>A</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ€»ç»“</strong></p>
<p>è¿™å¼ PPTçš„é‡ç‚¹åœ¨äºï¼š</p>
<ol>
<li><strong>åŸºç±»æ„é€ å’Œææ„é¡ºåº</strong>æ˜¯ç”±å£°æ˜é¡ºåºå†³å®šçš„ï¼Œæ•°æ®æˆå‘˜çš„å­˜å‚¨é¡ºåºä¹Ÿéµå¾ªè¿™ä¸€è§„åˆ™ã€‚</li>
<li><strong>å‘½åå†²çª</strong>é€šè¿‡ä½œç”¨åŸŸè§£æç¬¦ <code>&lt;åŸºç±»å&gt;::&lt;åŸºç±»æˆå‘˜å&gt;</code> è§£å†³ã€‚</li>
<li>**è™šåŸºç±»ï¼ˆVirtual Base Classï¼‰**æ˜¯è§£å†³å¤šç»§æ‰¿ä¸­å…¬å…±åŸºç±»å†—ä½™å‰¯æœ¬é—®é¢˜çš„æ ¸å¿ƒæœºåˆ¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé¿å…äºŒä¹‰æ€§å’Œå†—ä½™ã€‚</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221100122760.png" class="" title="image-20241221100122760">
<ol>
<li><strong>ç±»Dæ‹¥æœ‰ä¸¤ä¸ªæˆå‘˜ <code>B::x</code> å’Œ <code>C::x</code></strong></li>
</ol>
<p><strong>é—®é¢˜æè¿°</strong></p>
<ul>
<li>
<p>åœ¨å¤šç»§æ‰¿ä¸­ï¼Œå¦‚æœä¸¤ä¸ªåŸºç±»ä¸­æœ‰åŒåæˆå‘˜å˜é‡æˆ–è€…æˆå‘˜å‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¼šç»§æ‰¿è¿™äº›åŒåæˆå‘˜ã€‚</p>
</li>
<li>
<p>åœ¨æ­¤ä¾‹ä¸­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B, <span class="keyword">public</span> C &#123;&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>D</code> ç±»ä¸­ä¼šåŒ…å«ä¸¤ä»½ <code>A</code> çš„æˆå‘˜ <code>x</code>ï¼Œåˆ†åˆ«æ˜¯ <code>B::x</code> å’Œ <code>C::x</code>ã€‚</p>
</li>
<li>
<p>è®¿é—®æ—¶ä¼šäº§ç”ŸäºŒä¹‰æ€§ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D d;</span><br><span class="line">d.x; <span class="comment">// é”™è¯¯ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“æ˜¯ B::x è¿˜æ˜¯ C::x</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>è§£å†³åŠæ³•æ˜¯ä½¿ç”¨ä½œç”¨åŸŸé™å®šç¬¦æ˜¾å¼æŒ‡å®šï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d.B::x; <span class="comment">// è®¿é—® B ä¸­çš„ x</span></span><br><span class="line">d.C::x; <span class="comment">// è®¿é—® C ä¸­çš„ x</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>è™šåŸºç±»çš„ä½œç”¨</strong></li>
</ol>
<p><strong>é—®é¢˜æè¿°</strong></p>
<ul>
<li>å¦‚æœ <code>B</code> å’Œ <code>C</code> éƒ½ç»§æ‰¿è‡ª <code>A</code>ï¼Œ<code>D</code> å†åŒæ—¶ç»§æ‰¿ <code>B</code> å’Œ <code>C</code>ï¼Œ<code>D</code> ä¸­ä¼šåŒ…å«ä¸¤ä»½ <code>A</code> çš„å‰¯æœ¬ï¼Œå¯¼è‡´å†—ä½™å’Œä¸å¿…è¦çš„å¼€é”€ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨<strong>è™šåŸºç±»</strong>ï¼Œé€šè¿‡ <code>virtual</code> å…³é”®å­—å£°æ˜åŸºç±»ã€‚</li>
</ul>
<p><strong>è™šåŸºç±»çš„æ•ˆæœ</strong></p>
<ul>
<li>
<p>å¦‚æœå°† <code>A</code> å£°æ˜ä¸º <code>virtual public</code> æˆ– <code>public virtual</code>ï¼Œåˆ™æ— è®º <code>B</code> å’Œ <code>C</code> ä¸­å¦‚ä½•ç»§æ‰¿ <code>A</code>ï¼Œ<code>D</code> ä¸­åªä¼šæœ‰ä¸€ä»½ <code>A</code> çš„å‰¯æœ¬ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B, <span class="keyword">public</span> C &#123;&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿™æ · <code>D</code> ä¸­å°±åªæœ‰ä¸€ä»½ <code>A</code> çš„æ•°æ®æˆå‘˜ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ol>
<li>
<p><strong>è™šåŸºç±»çš„æ„é€ å‡½æ•°è°ƒç”¨ç”±æ´¾ç”Ÿç±»è´Ÿè´£</strong>ï¼š</p>
<ul>
<li>è™šåŸºç±»çš„åˆå§‹åŒ–åœ¨æœ€æ´¾ç”Ÿç±»ä¸­å®Œæˆã€‚</li>
<li>æ¯”å¦‚ï¼Œåœ¨ <code>D</code> çš„æ„é€ å‡½æ•°ä¸­ï¼Œè´Ÿè´£è°ƒç”¨ <code>A</code> çš„æ„é€ å‡½æ•°ï¼Œè€Œä¸æ˜¯ <code>B</code> å’Œ <code>C</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåº</strong>ï¼š</p>
<ul>
<li><strong>è™šåŸºç±»çš„æ„é€ å‡½æ•°ä¼˜å…ˆäºéè™šåŸºç±»çš„æ„é€ å‡½æ•°æ‰§è¡Œ</strong>ã€‚</li>
<li>æ„é€ é¡ºåºä¸ºï¼š<strong>è™šåŸºç±» -&gt; éè™šåŸºç±» -&gt; æ´¾ç”Ÿç±»æœ¬èº«</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä»£ç ç¤ºä¾‹</strong></p>
</li>
</ol>
<p>ä»¥ä¸‹æ˜¯PPTä¸­å¯¹åº”çš„ä»£ç è¯´æ˜ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">public</span> <span class="keyword">virtual</span> A &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> B, <span class="keyword">public</span> C &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>è¡Œä¸ºåˆ†æ</strong></p>
<ol>
<li>
<p><code>B</code> å’Œ <code>C</code> éƒ½å£°æ˜äº† <code>A</code> ä¸ºè™šåŸºç±»ï¼Œå› æ­¤åœ¨ <code>D</code> ä¸­åªæœ‰ä¸€ä»½ <code>A</code> çš„æˆå‘˜ã€‚</p>
</li>
<li>
<p>å¦‚æœ <code>B</code> å’Œ <code>C</code> çš„ç»§æ‰¿ä¸æ˜¯è™šåŸºç±»ï¼Œåˆ™ <code>D</code> ä¸­ä¼šæœ‰ä¸¤ä»½ <code>A</code> çš„æˆå‘˜ã€‚</p>
</li>
<li>
<p><strong>æ€»ç»“</strong></p>
</li>
</ol>
<ul>
<li>è™šåŸºç±»çš„ç‰¹ç‚¹ï¼š
<ul>
<li>è§£å†³äº†å¤šç»§æ‰¿ä¸­ç”±äºå…¬å…±åŸºç±»å¯¼è‡´çš„å†—ä½™æ•°æ®é—®é¢˜ã€‚</li>
<li>ä¿è¯æ´¾ç”Ÿç±»ä¸­åªæœ‰ä¸€ä»½è™šåŸºç±»çš„æˆå‘˜ã€‚</li>
<li>è™šåŸºç±»çš„æ„é€ ç”±æœ€æ´¾ç”Ÿç±»è´Ÿè´£ã€‚</li>
</ul>
</li>
<li>ä½¿ç”¨æ³¨æ„ï¼š
<ul>
<li>åœ¨<strong>æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¸­ï¼Œå¦‚æœè™šåŸºç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¿…é¡»æ˜¾å¼åˆå§‹åŒ–è™šåŸºç±»æˆå‘˜</strong>ï¼Œé¿å…æœªåˆå§‹åŒ–é—®é¢˜ã€‚</li>
<li>è™šåŸºç±»çš„æ„é€ ä¼˜å…ˆäºéè™šåŸºç±»ã€‚</li>
</ul>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2025/01/25/CPP-2-2/image-20241221100630464.png" class="" title="image-20241221100630464">
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://example.com">Liu Kai-Qi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2025/01/25/CPP-2-2/">http://example.com/2025/01/25/CPP-2-2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://example.com" target="_blank">ChocStarğŸ«</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">C++é«˜çº§ç¨‹åºè®¾è®¡</a></div><div class="post-share"><div class="social-share" data-image="/img/C++.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-left" href="/2025/01/25/CPP-2-5/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-5ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-5ï¼‰</div></div></a><a class="next-post pull-right" href="/2025/01/25/CPP-2-3/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-3ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-3ï¼‰</div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a href="/2025/01/25/C++%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC1-C4ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC1-C4ï¼‰</div></div></a><a href="/2025/01/25/C7/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC7ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC7ï¼‰</div></div></a><a href="/2025/01/25/C8/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC8ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC8ï¼‰</div></div></a><a href="/2025/01/25/C5/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC5ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC5ï¼‰</div></div></a><a href="/2025/01/25/C6/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC6ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC6ï¼‰</div></div></a><a href="/2025/01/25/CPP-2-1/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-1ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC2-1ï¼‰</div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Liu Kai-Qi</div><div class="author-info-description">Sometimes you have to go for it</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/liukqchoco"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/liukqchoco" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">CPP-2-2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">1.1.</span> <span class="toc-text">ç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8B%E5%85%83%E5%92%8Cprotected"><span class="toc-number">1.2.</span> <span class="toc-text">å‹å…ƒå’Œprotected</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">è™šå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#final-override"><span class="toc-number">1.3.1.</span> <span class="toc-text">final, override</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">1.3.2.</span> <span class="toc-text">çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.3.</span> <span class="toc-text">è™šææ„å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#private%E7%BB%A7%E6%89%BF"><span class="toc-number">1.3.4.</span> <span class="toc-text">privateç»§æ‰¿</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/C++%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC1-C4ï¼‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC1-C4ï¼‰"/></a><div class="content"><a class="title" href="/2025/01/25/C++%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC1-C4ï¼‰">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC1-C4ï¼‰</a><time datetime="2025-01-25T14:10:32.000Z" title="å‘è¡¨äº 2025-01-25 22:10:32">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/C7/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC7ï¼‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC7ï¼‰"/></a><div class="content"><a class="title" href="/2025/01/25/C7/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC7ï¼‰">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC7ï¼‰</a><time datetime="2025-01-25T14:10:32.000Z" title="å‘è¡¨äº 2025-01-25 22:10:32">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/C8/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC8ï¼‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC8ï¼‰"/></a><div class="content"><a class="title" href="/2025/01/25/C8/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC8ï¼‰">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC8ï¼‰</a><time datetime="2025-01-25T14:10:32.000Z" title="å‘è¡¨äº 2025-01-25 22:10:32">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/C5/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC5ï¼‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC5ï¼‰"/></a><div class="content"><a class="title" href="/2025/01/25/C5/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC5ï¼‰">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC5ï¼‰</a><time datetime="2025-01-25T14:10:32.000Z" title="å‘è¡¨äº 2025-01-25 22:10:32">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/C6/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC6ï¼‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/C++.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC6ï¼‰"/></a><div class="content"><a class="title" href="/2025/01/25/C6/" title="C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC6ï¼‰">C++é«˜çº§ç¨‹åºè®¾è®¡ç¬”è®°ï¼ˆC6ï¼‰</a><time datetime="2025-01-25T14:10:32.000Z" title="å‘è¡¨äº 2025-01-25 22:10:32">2025-01-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Liu Kai-Qi</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>(() => {
  const panguFn = () => {
    if (typeof pangu === 'object') pangu.autoSpacingPage()
    else {
      btf.getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
        .then(() => {
          pangu.autoSpacingPage()
        })
    }
  }

  const panguInit = () => {
    if (false){
      GLOBAL_CONFIG_SITE.isPost && panguFn()
    } else {
      panguFn()
    }
  }

  btf.addGlobalFn('pjaxComplete', panguInit, 'pangu')
  document.addEventListener('DOMContentLoaded', panguInit)
})()</script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="ä½ è¦æ‰¾ä»€ä¹ˆå‘€" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>